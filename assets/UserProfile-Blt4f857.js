import{C as B}from"./vue3-perfect-scrollbar-Dy_S9ykO.js";import{i as w,aL as i,O as f,f as l,k as v,l as e,o as r,e as a,b as o,a9 as u,d as n,t as c,s as p,c as b,F as _,h as C,aM as S,p as z,a2 as A}from"./index-BvPjFTGu.js";import{u as D}from"./useAbility-DkofNRlG.js";import{V as g}from"./VAvatar-Ce5tSu__.js";import{V as y}from"./VImg-DnWpPi9K.js";import{V as N}from"./VMenu-BLpoVuPm.js";import{V as R,a as V,d as T,b as F}from"./VList-jvYjHTU1.js";import{V as M}from"./VListItemAction-DV2KO-kG.js";import{V as d}from"./VBadge-DBqqLruT.js";import{V as E}from"./VDivider-2Bv_8Jov.js";import"./VOverlay-D2sQOqfD.js";import"./easing-Bybner-F.js";import"./delay-B1dxxJfC.js";import"./lazy-DaFJvBXA.js";import"./scopeId-wKNjEvHw.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-CM7nAX3a.js";import"./ssrBoot-K_ycCVMn.js";const O={class:"d-flex gap-2 align-center"},U={class:"text-h6 font-weight-medium"},j={class:"px-4 py-2"},ut={__name:"UserProfile",setup(q){const k=w(),h=D(),t=i("userData"),x=async()=>{i("accessToken").value=null,t.value=null,await k.push("/login"),i("userAbilityRules").value=null,h.update([])},I=f(()=>t.value.role=="client"?{name:"pages-user-profile-tab",params:{tab:"profile"}}:{name:"pages-consultant-profile-tab",params:{tab:"profile"}}),L=f(()=>t.value.role=="client"?{name:"pages-account-settings-tab",params:{tab:"account"}}:{name:"pages-consultant-account-settings-tab",params:{tab:"account"}}),P=[{type:"divider"},{type:"navItem",icon:"tabler-user",title:"Profile",to:I.value},{type:"navItem",icon:"tabler-settings",title:"Settings",to:L.value},{type:"divider"}];return(G,m)=>e(t)?(r(),l(d,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"1","offset-y":"2",color:"success"},{default:a(()=>[o(g,{size:"38",class:"cursor-pointer",color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(r(),l(y,{key:0,src:e(t).avatar},null,8,["src"])):(r(),l(u,{key:1,icon:"tabler-user"})),o(N,{activator:"parent",width:"240",location:"bottom end",offset:"12px"},{default:a(()=>[o(R,null,{default:a(()=>[o(V,null,{default:a(()=>[n("div",O,[o(M,null,{default:a(()=>[o(d,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:a(()=>[o(g,{color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(r(),l(y,{key:0,src:e(t).avatar},null,8,["src"])):(r(),l(u,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1}),n("div",null,[n("h6",U,c(e(t).name||e(t).username),1),o(T,{class:"text-capitalize text-disabled"},{default:a(()=>[p(c(e(t).role),1)]),_:1})])])]),_:1}),o(e(B),{options:{wheelPropagation:!1}},{default:a(()=>[e(t).role!="admin"?(r(),b(_,{key:0},C(P,s=>(r(),b(_,{key:s.title},[s.type==="navItem"?(r(),l(V,{key:0,to:s.to},S({prepend:a(()=>[o(u,{icon:s.icon,size:"22"},null,8,["icon"])]),default:a(()=>[o(F,null,{default:a(()=>[p(c(s.title),1)]),_:2},1024)]),_:2},[s.badgeProps?{name:"append",fn:a(()=>[o(d,z({rounded:"sm",class:"me-3",ref_for:!0},s.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to"])):(r(),l(E,{key:1,class:"my-2"}))],64))),64)):v("",!0),n("div",j,[o(A,{block:"",size:"small",color:"error","append-icon":"tabler-logout",onClick:x},{default:a(()=>m[0]||(m[0]=[p(" Logout ")])),_:1,__:[0]})])]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1})):v("",!0)}};export{ut as default};

import{_ as T}from"./AppSelect-D-PeoRGq.js";import{_ as j}from"./AppTextarea-QhbjbEaB.js";import{_ as R}from"./AppDateTimePicker-BI87Kwdz.js";import{_ as F}from"./AppTextField-CKxKpX8V.js";import{_ as q}from"./AppDrawerHeaderSection-CQGb78mV.js";import{r,f as B,o as C,e as o,b as t,l,aF as E,ap as m,a2 as P,s as d,aX as H,c as L,u as W,k as X,d as y,t as Y}from"./index-DQmZf-Xj.js";import{C as z}from"./vue3-perfect-scrollbar-CshudYwV.js";import{V as G}from"./VDivider-DdQ5ZGaf.js";import{V as I}from"./VCard-C_4VJn-8.js";import{V as M}from"./VCardText-BRVadkC6.js";import{V as J}from"./VForm-DgbNoiab.js";import{V as O,a as v}from"./VRow-BFdw40-L.js";import{V as K}from"./VNavigationDrawer-BwFW6XH2.js";import{a as Q,_ as Z}from"./InvoiceSendInvoiceDrawer-ChBhysZf.js";import{u as h}from"./useApi-Ct-6W-lY.js";import{V as ee}from"./VAlert-DLLpKnlJ.js";import{V as x}from"./VLabel-DGDnQGXC.js";import{V as g}from"./VSwitch-B28NCrw3.js";import"./VSelect-Bhu0lvyB.js";import"./VTextField-CLE0haGg.js";/* empty css                   */import"./VCounter-n4uRWdM2.js";import"./VImg-DOcWVjej.js";import"./VField-D4ioAJ5d.js";import"./form-Bo4elXah.js";import"./easing-Bybner-F.js";import"./VInput-DjvCNQyc.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-C6mR20Ba.js";import"./ssrBoot-DAbQuRUP.js";import"./VAvatar-BSaP2aJ4.js";import"./dialog-transition-kbiQFXWj.js";import"./VMenu-D3tTBXxA.js";import"./VOverlay-dQ2rZt_z.js";import"./delay-DgqARyzl.js";import"./lazy-BUeLM-Y3.js";import"./scopeId-A6e6jMOB.js";import"./VCheckboxBtn-BwzO9Ng7.js";import"./VSelectionControl-C8NAjBaP.js";import"./VChip-MuDwaTxO.js";import"./VSlideGroup-D5H4D9Mv.js";import"./VTextarea-Bc5xVACT.js";import"./VSpacer-DvIbVmMT.js";/* empty css              */import"./VTooltip-JxSKQFi_.js";import"./VNodeRenderer-ByZ0PIxW.js";const te={__name:"InvoiceAddPaymentDrawer",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen","submit"],setup(N,{emit:_}){const S=N,i=_,u=r(),f=r(),V=r(""),w=r(),p=r(""),b=()=>{i("update:isDrawerOpen",!1),i("submit",{invoiceBalance:u.value,paymentAmount:f.value,paymentDate:V.value,paymentMethod:w.value,paymentNote:p.value})},k=c=>{i("update:isDrawerOpen",c)};return(c,a)=>{const A=q,$=F,D=R,e=T,U=j;return C(),B(K,{"data-allow-mismatch":"",temporary:"",location:"end",width:400,border:"none","model-value":S.isDrawerOpen,class:"scrollable-content","onUpdate:modelValue":k},{default:o(()=>[t(A,{title:"Add Payment",onCancel:a[0]||(a[0]=s=>c.$emit("update:isDrawerOpen",!1))}),t(G),t(l(z),{options:{wheelPropagation:!1}},{default:o(()=>[t(I,{flat:""},{default:o(()=>[t(M,null,{default:o(()=>[t(J,{onSubmit:E(b,["prevent"])},{default:o(()=>[t(O,null,{default:o(()=>[t(v,{cols:"12"},{default:o(()=>[t($,{id:"invoice-balance",modelValue:l(u),"onUpdate:modelValue":a[1]||(a[1]=s=>m(u)?u.value=s:null),label:"Invoice Balance",type:"number",placeholder:"$99"},null,8,["modelValue"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t($,{id:"payment-amount",modelValue:l(f),"onUpdate:modelValue":a[2]||(a[2]=s=>m(f)?f.value=s:null),label:"Payment Amount",type:"number",placeholder:"$99"},null,8,["modelValue"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(D,{id:"invoice-payment-date",modelValue:l(V),"onUpdate:modelValue":a[3]||(a[3]=s=>m(V)?V.value=s:null),label:"Payment Date",placeholder:"Select Date"},null,8,["modelValue"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(e,{id:"invoice-payment-method",modelValue:l(w),"onUpdate:modelValue":a[4]||(a[4]=s=>m(w)?w.value=s:null),label:"Select Payment Method",placeholder:"Select Payment Method",items:["Cash","Bank Transfer","Debit","Credit","PayPal"]},null,8,["modelValue"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(U,{id:"invoice-payment-note",modelValue:l(p),"onUpdate:modelValue":a[5]||(a[5]=s=>m(p)?p.value=s:null),label:"Internal Payment Note",placeholder:"Internal Payment Note"},null,8,["modelValue"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(P,{type:"submit",class:"me-3"},{default:o(()=>a[7]||(a[7]=[d(" Send ")])),_:1,__:[7]}),t(P,{type:"reset",color:"secondary",variant:"tonal",onClick:a[6]||(a[6]=s=>c.$emit("update:isDrawerOpen",!1))},{default:o(()=>a[8]||(a[8]=[d(" Cancel ")])),_:1,__:[8]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},oe={class:"d-flex flex-wrap gap-4"},ae={class:"d-flex align-center justify-space-between"},le={class:"d-flex align-center justify-space-between"},ne={class:"d-flex align-center justify-space-between"},se={key:1},he={__name:"[id]",async setup(N){let _,S;const i=r(),u=W(),{data:f}=([_,S]=H(()=>h(`/apps/invoice/${u.params.id}`)),_=await _,S(),_);f.value&&(i.value={invoice:f.value.invoice,paymentDetails:f.value.paymentDetails,purchasedProducts:[{title:"App Design",cost:24,hours:2,description:"Designed UI kit & app pages."}],note:"It was a pleasure working with you and your team. We hope you will keep us in mind for future freelance projects. Thank You!",paymentMethod:"Bank Account",salesperson:"Tom Cook",thanksNote:"Thanks for your business"});const V=D=>{var e;(e=i.value)==null||e.purchasedProducts.push(D)},w=D=>{var e;(e=i.value)==null||e.purchasedProducts.splice(D,1)},p=r(!1),b=r(!1),k=r(!0),c=r(!1),a=r(!1),A=r("Bank Account"),$=["Bank Account","PayPal","UPI Transfer"];return(D,e)=>{var s;const U=T;return l(i)&&((s=l(i))!=null&&s.invoice)?(C(),B(O,{key:0},{default:o(()=>[t(v,{cols:"12",md:"9"},{default:o(()=>{var n;return[(n=l(i))!=null&&n.invoice?(C(),B(Q,{key:0,data:l(i),onPush:V,onRemove:w},null,8,["data"])):X("",!0)]}),_:1}),t(v,{cols:"12",md:"3"},{default:o(()=>[t(I,{class:"mb-8"},{default:o(()=>[t(M,null,{default:o(()=>[t(P,{block:"","prepend-icon":"tabler-send",class:"mb-4",onClick:e[0]||(e[0]=n=>p.value=!0)},{default:o(()=>e[8]||(e[8]=[d(" Send Invoice ")])),_:1,__:[8]}),y("div",oe,[t(P,{color:"secondary",variant:"tonal",class:"flex-grow-1",to:{name:"apps-invoice-preview-id",params:{id:l(u).params.id}}},{default:o(()=>e[9]||(e[9]=[d(" Preview ")])),_:1,__:[9]},8,["to"]),t(P,{color:"secondary",variant:"tonal",class:"mb-4 flex-grow-1"},{default:o(()=>e[10]||(e[10]=[d(" Save ")])),_:1,__:[10]})]),t(P,{block:"",color:"success","prepend-icon":"tabler-currency-dollar",onClick:e[1]||(e[1]=n=>b.value=!0)},{default:o(()=>e[11]||(e[11]=[d(" Add Payment ")])),_:1,__:[11]})]),_:1})]),_:1}),t(U,{id:"payment-method",modelValue:l(A),"onUpdate:modelValue":e[2]||(e[2]=n=>m(A)?A.value=n:null),items:$,label:"Accept Payment Via",class:"mb-4"},null,8,["modelValue"]),y("div",ae,[t(x,{for:"payment-terms"},{default:o(()=>e[12]||(e[12]=[d(" Payment Terms ")])),_:1,__:[12]}),y("div",null,[t(g,{id:"payment-terms",modelValue:l(k),"onUpdate:modelValue":e[3]||(e[3]=n=>m(k)?k.value=n:null)},null,8,["modelValue"])])]),y("div",le,[t(x,{for:"client-notes"},{default:o(()=>e[13]||(e[13]=[d(" Client Notes ")])),_:1,__:[13]}),y("div",null,[t(g,{id:"client-notes",modelValue:l(c),"onUpdate:modelValue":e[4]||(e[4]=n=>m(c)?c.value=n:null)},null,8,["modelValue"])])]),y("div",ne,[t(x,{for:"payment-stub"},{default:o(()=>e[14]||(e[14]=[d(" Payment Stub ")])),_:1,__:[14]}),y("div",null,[t(g,{id:"payment-stub",modelValue:l(a),"onUpdate:modelValue":e[5]||(e[5]=n=>m(a)?a.value=n:null)},null,8,["modelValue"])])])]),_:1}),t(Z,{"is-drawer-open":l(p),"onUpdate:isDrawerOpen":e[6]||(e[6]=n=>m(p)?p.value=n:null)},null,8,["is-drawer-open"]),t(te,{"is-drawer-open":l(b),"onUpdate:isDrawerOpen":e[7]||(e[7]=n=>m(b)?b.value=n:null)},null,8,["is-drawer-open"])]),_:1})):(C(),L("section",se,[t(ee,{type:"error",variant:"tonal"},{default:o(()=>[d(" Invoice with ID "+Y(l(u).params.id)+" not found! ",1)]),_:1})]))}}};export{he as default};

import{al as T,O as m,f as S,o as l,e as n,b as s,k,d as o,a9 as _,t as c,l as y,c as u,F as g,h as V,s as $,u as R,r as U,bd as L,w as O}from"./index-_jCPV2aF.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as N,V as F}from"./VRow-BgsATLNC.js";import{V as x}from"./VCard-CYfkfZlC.js";import{V as C}from"./VSheet-DLy1XBAw.js";import{V as I}from"./VCardText-Cr9zYerb.js";import{V as q}from"./VImg-DA0BPHG3.js";import{$ as j}from"./api-CPmHFLjm.js";/* empty css              */import"./VAvatar-BUdDAT-D.js";import"./index-CvOPxmL5.js";const H={class:"section-title"},K={key:0,class:"kv-list"},M={class:"kv-label"},W={class:"kv-value"},G={class:"section-title"},J={key:0,class:"kv-list"},Q={class:"kv-label"},X={class:"kv-value"},Y={class:"section-title"},Z={key:0,class:"kv-list"},ee={class:"kv-label"},te={class:"kv-value"},se={class:"section-title"},le={key:0,class:"kv-list"},ae={class:"kv-label"},oe={class:"kv-value"},re={class:"section-title"},ne={key:0,class:"kv-list mb-2"},ie={class:"kv-label"},ce={class:"kv-value"},ue={key:1,class:"office-files"},de={class:"file-thumb"},pe={class:"file-meta"},ve={class:"file-label"},_e=["href"],be={key:2,class:"text-caption px-4 py-2"},ye={__name:"About",props:{data:{type:null,required:!0}},setup(A){const{t}=T({useScope:"global"}),b=A,h=e=>e?String(e).replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase()):"--",r=e=>e==null||e===""?"--":e,E=e=>typeof e=="string"&&/\.(png|jpe?g|gif|webp|bmp|svg)$/i.test(e||""),p=m(()=>{const e=b.data??{},a=e.bank_account??{};return{about:[{property:t("Client"),value:r(e.name),icon:"tabler-user"},{property:t("Manager"),value:r(e.manager_name),icon:"tabler-id"},{property:t("Client Type"),value:h(e.client_type),icon:"tabler-badge"},{property:t("Activity"),value:r(e.activity),icon:"tabler-briefcase"}],overview:[{property:t("Account Holder"),value:r(a.account_holder_name),icon:"tabler-building-bank"},{property:t("Account No."),value:r(a.account_number),icon:"tabler-hash"},{property:t("Bank"),value:r(a.bank_name),icon:"tabler-building"}]}}),d=m(()=>{var a;const e=((a=b.data)==null?void 0:a.user)??{};return[{property:t("User Name"),value:r(e.name),icon:"tabler-user-circle"},{property:t("Email"),value:r(e.email),icon:"tabler-mail"},{property:t("Phone"),value:r(e.phone),icon:"tabler-phone-call"},{property:t("Status"),value:h(e.status),icon:"tabler-circle-dot"}]}),w=m(()=>{var a;const e=((a=b.data)==null?void 0:a.address)??{};return[{property:t("City"),value:r(e.city),icon:"tabler-building-skyscraper"},{property:t("District"),value:r(e.district),icon:"tabler-map"},{property:t("Street"),value:r(e.street),icon:"tabler-road"},{property:t("Building No."),value:r(e.building_number),icon:"tabler-building"},{property:t("Additional No."),value:r(e.additional_number),icon:"tabler-plus"},{property:t("Postal Code"),value:r(e.postal_code),icon:"tabler-mailbox"},{property:t("Short Address"),value:r(e.short_address),icon:"tabler-map-pin"}]}),D=m(()=>{var e;return((e=b.data)==null?void 0:e.office)??null}),z=m(()=>{const e=D.value;return e?[{property:t("Commercial Reg. No."),value:r(e.commercial_registration_number),icon:"tabler-building-store"},{property:t("Establishment No."),value:r(e.establishment_number),icon:"tabler-id"},{property:t("Unified No."),value:r(e.unified_number),icon:"tabler-hash"},{property:t("Tax No."),value:r(e.tax_number),icon:"tabler-receipt-tax"},{property:t("Insurance No."),value:r(e.insurance_number),icon:"tabler-shield-lock"}]:[]}),B=m(()=>{const e=D.value;return e?[{key:"logo",label:t("Logo"),url:e.logo||null},{key:"letterhead",label:t("Letterhead"),url:e.letterhead||null},{key:"unified_doc",label:t("Unified Doc"),url:e.unified_doc||null},{key:"establishment_doc",label:t("Establishment Doc"),url:e.establishment_doc||null},{key:"registeration_doc",label:t("Registration Doc"),url:e.registeration_doc||null}].filter(a=>!!a.url):[]});return(e,a)=>(l(),S(F,{class:"section-grid",align:"stretch"},{default:n(()=>[s(N,{cols:"12",md:"6"},{default:n(()=>[s(x,{class:"section",elevation:"1"},{default:n(()=>[s(C,{class:"section-header"},{default:n(()=>[s(_,{icon:"tabler-user-check",class:"me-2"}),o("span",H,c(y(t)("About"))+" - "+c(y(t)("CLIENT")),1)]),_:1}),s(I,{class:"section-body"},{default:n(()=>{var v;return[(v=p.value.about)!=null&&v.length?(l(),u("div",K,[(l(!0),u(g,null,V(p.value.about,i=>(l(),u("div",{key:i.property,class:"kv-row"},[s(_,{icon:i.icon,size:"22",class:"kv-icon"},null,8,["icon"]),o("div",M,c(i.property),1),a[0]||(a[0]=o("div",{class:"kv-sep"},null,-1)),o("div",W,c(i.value),1)]))),128))])):k("",!0)]}),_:1})]),_:1})]),_:1}),s(N,{cols:"12",md:"6"},{default:n(()=>[s(x,{class:"section",elevation:"1"},{default:n(()=>[s(C,{class:"section-header"},{default:n(()=>[s(_,{icon:"tabler-id-badge-2",class:"me-2"}),o("span",G,c(y(t)("USER")),1)]),_:1}),s(I,{class:"section-body"},{default:n(()=>{var v;return[(v=d.value)!=null&&v.length?(l(),u("div",J,[(l(!0),u(g,null,V(d.value,i=>(l(),u("div",{key:i.property,class:"kv-row"},[s(_,{icon:i.icon,size:"22",class:"kv-icon"},null,8,["icon"]),o("div",Q,c(i.property),1),a[1]||(a[1]=o("div",{class:"kv-sep"},null,-1)),o("div",X,c(i.value),1)]))),128))])):k("",!0)]}),_:1})]),_:1})]),_:1}),s(N,{cols:"12",md:"6"},{default:n(()=>[s(x,{class:"section",elevation:"1"},{default:n(()=>[s(C,{class:"section-header"},{default:n(()=>[s(_,{icon:"tabler-map-pin",class:"me-2"}),o("span",Y,c(y(t)("ADDRESS")),1)]),_:1}),s(I,{class:"section-body"},{default:n(()=>{var v;return[(v=w.value)!=null&&v.length?(l(),u("div",Z,[(l(!0),u(g,null,V(w.value,i=>(l(),u("div",{key:i.property,class:"kv-row"},[s(_,{icon:i.icon,size:"22",class:"kv-icon"},null,8,["icon"]),o("div",ee,c(i.property),1),a[2]||(a[2]=o("div",{class:"kv-sep"},null,-1)),o("div",te,c(i.value),1)]))),128))])):k("",!0)]}),_:1})]),_:1})]),_:1}),s(N,{cols:"12",md:"6"},{default:n(()=>[s(x,{class:"section",elevation:"1"},{default:n(()=>[s(C,{class:"section-header"},{default:n(()=>[s(_,{icon:"tabler-credit-card",class:"me-2"}),o("span",se,c(y(t)("OVERVIEW"))+" - "+c(y(t)("BANK")),1)]),_:1}),s(I,{class:"section-body"},{default:n(()=>{var v;return[(v=p.value.overview)!=null&&v.length?(l(),u("div",le,[(l(!0),u(g,null,V(p.value.overview,i=>(l(),u("div",{key:i.property,class:"kv-row"},[s(_,{icon:i.icon,size:"22",class:"kv-icon"},null,8,["icon"]),o("div",ae,c(i.property),1),a[3]||(a[3]=o("div",{class:"kv-sep"},null,-1)),o("div",oe,c(i.value),1)]))),128))])):k("",!0)]}),_:1})]),_:1})]),_:1}),D.value?(l(),S(N,{key:0,cols:"12"},{default:n(()=>[s(x,{class:"section",elevation:"1"},{default:n(()=>[s(C,{class:"section-header"},{default:n(()=>[s(_,{icon:"tabler-building-warehouse",class:"me-2"}),o("span",re,c(y(t)("OFFICE")),1)]),_:1}),s(I,{class:"section-body"},{default:n(()=>{var v,i;return[(v=z.value)!=null&&v.length?(l(),u("div",ne,[(l(!0),u(g,null,V(z.value,f=>(l(),u("div",{key:f.property,class:"kv-row"},[s(_,{icon:f.icon,size:"22",class:"kv-icon"},null,8,["icon"]),o("div",ie,c(f.property),1),a[4]||(a[4]=o("div",{class:"kv-sep"},null,-1)),o("div",ce,c(f.value),1)]))),128))])):k("",!0),(i=B.value)!=null&&i.length?(l(),u("div",ue,[(l(!0),u(g,null,V(B.value,f=>(l(),u("div",{key:f.key,class:"file-card"},[o("div",de,[E(f.url)?(l(),S(q,{key:0,src:f.url,cover:"",class:"thumb-img"},null,8,["src"])):(l(),S(_,{key:1,icon:"tabler-file-description",size:"28"}))]),o("div",pe,[o("div",ve,c(f.label),1),o("a",{class:"file-link",href:f.url,target:"_blank"},[s(_,{icon:"tabler-external-link",size:"16",class:"me-1"}),$(" "+c(y(t)("Open")),1)],8,_e)])]))),128))])):(l(),u("div",be,c(y(t)("No office files on record.")),1))]}),_:1})]),_:1})]),_:1})):k("",!0)]),_:1}))}},fe=P(ye,[["__scopeId","data-v-1318461b"]]),me={__name:"index",setup(A){const t=R(),b=U(null),h=L(),r=m(()=>{var d,w;const p=t.query.clientId;return p||(((w=(d=h.user)==null?void 0:d.client)==null?void 0:w.id)??null)}),E=async()=>{if(t.params.tab!=="profile")return;const p=r.value;if(!p){b.value=null;return}try{const d=await j(`/v1/clients/${p}`);b.value=(d==null?void 0:d.data)??null}catch(d){console.error("Failed to fetch client profile",d),b.value=null}};return O([()=>t.params.tab,()=>t.query.clientId,()=>{var p,d;return(d=(p=h.user)==null?void 0:p.client)==null?void 0:d.id}],()=>{E()},{immediate:!0}),(p,d)=>y(b)?(l(),S(F,{key:0},{default:n(()=>[s(N,{cols:"12"},{default:n(()=>[s(fe,{data:y(b)},null,8,["data"])]),_:1})]),_:1})):k("",!0)}},Ee={__name:"[tab]",setup(A){const t=R();return m({get:()=>t.params.tab,set:()=>t.params.tab}),(b,h)=>(l(),u("div",null,[s(me)]))}};export{Ee as default};

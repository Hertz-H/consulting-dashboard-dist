import{al as F,O as k,f as A,o as l,e as r,b as s,k as h,d as n,a9 as _,t as c,l as b,c as u,F as N,h as V,s as U,bd as $,u as R,r as L,w as O}from"./index-CbS20ExG.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as w,V as T}from"./VRow-NazFUfzw.js";import{V as S}from"./VCard-DL1MOVib.js";import{V as C}from"./VSheet-DbTNFgvq.js";import{V as I}from"./VCardText-QIrOD4_h.js";import{V as P}from"./VImg-5Ur9AJ4W.js";import{$ as j}from"./api-AcZyo7DO.js";/* empty css              */import"./VAvatar-C2yZhik7.js";import"./index-CvOPxmL5.js";const H={class:"section-title"},K={key:0,class:"kv-list"},Q={class:"kv-label"},W={class:"kv-value"},G={class:"section-title"},J={key:0,class:"kv-list"},M={class:"kv-label"},X={class:"kv-value"},Y={class:"section-title"},Z={key:0,class:"kv-list"},ee={class:"kv-label"},te={class:"kv-value"},se={class:"section-title"},le={key:0,class:"kv-list"},ae={class:"kv-label"},oe={class:"kv-value"},ne={class:"section-title"},re={key:0,class:"kv-list mb-2"},ie={class:"kv-label"},ce={class:"kv-value"},ue={key:1,class:"office-files"},de={class:"file-thumb"},pe={class:"file-meta"},ve={class:"file-label"},_e=["href"],be={key:2,class:"text-caption px-4 py-2"},fe={__name:"About",props:{data:{type:null,required:!0}},setup(z){const{t}=F({useScope:"global"}),f=z,m=e=>e?String(e).replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase()):"--",a=e=>e==null||e===""?"--":e,D=e=>typeof e=="string"&&/\.(png|jpe?g|gif|webp|bmp|svg)$/i.test(e||""),d=k(()=>{const e=f.data??{},o=e.bank_account??{};return{consultant:[{property:t("Consultant Name"),value:a(e.name),icon:"tabler-user"},{property:t("License Number"),value:a(e.license_number),icon:"tabler-id"},{property:t("Type"),value:m(e.consultant_type),icon:"tabler-badge"},{property:t("Specialization"),value:a(e.specialization),icon:"tabler-briefcase"},{property:t("Qualification"),value:a(e.qualification),icon:"tabler-certificate-2"}],overview:[{property:t("Account Holder"),value:a(o.account_holder_name),icon:"tabler-building-bank"},{property:t("Account No."),value:a(o.account_number),icon:"tabler-hash"},{property:t("Bank"),value:a(o.bank_name),icon:"tabler-building"}],logo:e.logo||null}}),p=k(()=>{var o;const e=((o=f.data)==null?void 0:o.user)??{};return[{property:t("User Name"),value:a(e.name),icon:"tabler-user-circle"},{property:t("Email"),value:a(e.email),icon:"tabler-mail"},{property:t("Phone"),value:a(e.phone),icon:"tabler-phone-call"},{property:t("Status"),value:m(e.status),icon:"tabler-circle-dot"}]}),x=k(()=>{var o;const e=((o=f.data)==null?void 0:o.address)??{};return[{property:t("City"),value:a(e.city),icon:"tabler-building-skyscraper"},{property:t("District"),value:a(e.district),icon:"tabler-map"},{property:t("Street"),value:a(e.street),icon:"tabler-road"},{property:t("Building No."),value:a(e.building_number),icon:"tabler-building"},{property:t("Additional No."),value:a(e.additional_number),icon:"tabler-plus"},{property:t("Postal Code"),value:a(e.postal_code),icon:"tabler-mailbox"},{property:t("Short Address"),value:a(e.short_address),icon:"tabler-map-pin"}]}),g=k(()=>{var e;return((e=f.data)==null?void 0:e.office)??null}),E=k(()=>{const e=g.value;return e?[{property:t("Commercial Reg. No."),value:a(e.commercial_registration_number),icon:"tabler-building-store"},{property:t("Establishment No."),value:a(e.establishment_number),icon:"tabler-id"},{property:t("Unified No."),value:a(e.unified_number),icon:"tabler-hash"},{property:t("Tax No."),value:a(e.tax_number),icon:"tabler-receipt-tax"},{property:t("Insurance No."),value:a(e.insurance_number),icon:"tabler-shield-lock"}]:[]}),B=k(()=>{const e=g.value;return e?[{key:"logo",label:t("Logo"),url:e.logo||null},{key:"letterhead",label:t("Letterhead"),url:e.letterhead||null},{key:"unified_doc",label:t("Unified Doc"),url:e.unified_doc||null},{key:"establishment_doc",label:t("Establishment Doc"),url:e.establishment_doc||null},{key:"registeration_doc",label:t("Registration Doc"),url:e.registeration_doc||null}].filter(o=>!!o.url):[]});return(e,o)=>(l(),A(T,{class:"section-grid",align:"stretch"},{default:r(()=>[s(w,{cols:"12",md:"6"},{default:r(()=>[s(S,{class:"section",elevation:"1"},{default:r(()=>[s(C,{class:"section-header"},{default:r(()=>[s(_,{icon:"tabler-user-check",class:"me-2"}),n("span",H,c(b(t)("About"))+" - "+c(b(t)("CONSULTANT")),1)]),_:1}),s(I,{class:"section-body"},{default:r(()=>{var v;return[(v=d.value.consultant)!=null&&v.length?(l(),u("div",K,[(l(!0),u(N,null,V(d.value.consultant,i=>(l(),u("div",{key:i.property,class:"kv-row"},[s(_,{icon:i.icon,size:"22",class:"kv-icon"},null,8,["icon"]),n("div",Q,c(i.property),1),o[0]||(o[0]=n("div",{class:"kv-sep"},null,-1)),n("div",W,c(i.value),1)]))),128))])):h("",!0)]}),_:1})]),_:1})]),_:1}),s(w,{cols:"12",md:"6"},{default:r(()=>[s(S,{class:"section",elevation:"1"},{default:r(()=>[s(C,{class:"section-header"},{default:r(()=>[s(_,{icon:"tabler-id-badge-2",class:"me-2"}),n("span",G,c(b(t)("USER")),1)]),_:1}),s(I,{class:"section-body"},{default:r(()=>{var v;return[(v=p.value)!=null&&v.length?(l(),u("div",J,[(l(!0),u(N,null,V(p.value,i=>(l(),u("div",{key:i.property,class:"kv-row"},[s(_,{icon:i.icon,size:"22",class:"kv-icon"},null,8,["icon"]),n("div",M,c(i.property),1),o[1]||(o[1]=n("div",{class:"kv-sep"},null,-1)),n("div",X,c(i.value),1)]))),128))])):h("",!0)]}),_:1})]),_:1})]),_:1}),s(w,{cols:"12",md:"6"},{default:r(()=>[s(S,{class:"section",elevation:"1"},{default:r(()=>[s(C,{class:"section-header"},{default:r(()=>[s(_,{icon:"tabler-map-pin",class:"me-2"}),n("span",Y,c(b(t)("ADDRESS")),1)]),_:1}),s(I,{class:"section-body"},{default:r(()=>{var v;return[(v=x.value)!=null&&v.length?(l(),u("div",Z,[(l(!0),u(N,null,V(x.value,i=>(l(),u("div",{key:i.property,class:"kv-row"},[s(_,{icon:i.icon,size:"22",class:"kv-icon"},null,8,["icon"]),n("div",ee,c(i.property),1),o[2]||(o[2]=n("div",{class:"kv-sep"},null,-1)),n("div",te,c(i.value),1)]))),128))])):h("",!0)]}),_:1})]),_:1})]),_:1}),s(w,{cols:"12",md:"6"},{default:r(()=>[s(S,{class:"section",elevation:"1"},{default:r(()=>[s(C,{class:"section-header"},{default:r(()=>[s(_,{icon:"tabler-credit-card",class:"me-2"}),n("span",se,c(b(t)("OVERVIEW"))+" - "+c(b(t)("BANK")),1)]),_:1}),s(I,{class:"section-body"},{default:r(()=>{var v;return[(v=d.value.overview)!=null&&v.length?(l(),u("div",le,[(l(!0),u(N,null,V(d.value.overview,i=>(l(),u("div",{key:i.property,class:"kv-row"},[s(_,{icon:i.icon,size:"22",class:"kv-icon"},null,8,["icon"]),n("div",ae,c(i.property),1),o[3]||(o[3]=n("div",{class:"kv-sep"},null,-1)),n("div",oe,c(i.value),1)]))),128))])):h("",!0)]}),_:1})]),_:1})]),_:1}),g.value?(l(),A(w,{key:0,cols:"12"},{default:r(()=>[s(S,{class:"section",elevation:"1"},{default:r(()=>[s(C,{class:"section-header"},{default:r(()=>[s(_,{icon:"tabler-building-warehouse",class:"me-2"}),n("span",ne,c(b(t)("OFFICE")),1)]),_:1}),s(I,{class:"section-body"},{default:r(()=>{var v,i;return[(v=E.value)!=null&&v.length?(l(),u("div",re,[(l(!0),u(N,null,V(E.value,y=>(l(),u("div",{key:y.property,class:"kv-row"},[s(_,{icon:y.icon,size:"22",class:"kv-icon"},null,8,["icon"]),n("div",ie,c(y.property),1),o[4]||(o[4]=n("div",{class:"kv-sep"},null,-1)),n("div",ce,c(y.value),1)]))),128))])):h("",!0),(i=B.value)!=null&&i.length?(l(),u("div",ue,[(l(!0),u(N,null,V(B.value,y=>(l(),u("div",{key:y.key,class:"file-card"},[n("div",de,[D(y.url)?(l(),A(P,{key:0,src:y.url,cover:"",class:"thumb-img"},null,8,["src"])):(l(),A(_,{key:1,icon:"tabler-file-description",size:"28"}))]),n("div",pe,[n("div",ve,c(y.label),1),n("a",{class:"file-link",href:y.url,target:"_blank"},[s(_,{icon:"tabler-external-link",size:"16",class:"me-1"}),U(" "+c(b(t)("Open")),1)],8,_e)])]))),128))])):(l(),u("div",be,c(b(t)("No office files on record.")),1))]}),_:1})]),_:1})]),_:1})):h("",!0)]),_:1}))}},ye=q(fe,[["__scopeId","data-v-3c784d99"]]),me={__name:"index",setup(z){const t=$(),f=R(),m=L(null),a=k(()=>{var p,x,g;const d=(p=f.query)==null?void 0:p.consultantId;return d||(((g=(x=t.user)==null?void 0:x.consultant)==null?void 0:g.id)??null)}),D=async()=>{if(f.params.tab!=="profile")return;const d=a.value;if(!d){m.value=null;return}try{const p=await j(`/v1/consultants/${d}`);m.value=(p==null?void 0:p.data)??null}catch(p){console.error("Failed to fetch consultant profile",p),m.value=null}};return O([()=>f.params.tab,()=>{var d;return(d=f.query)==null?void 0:d.consultantId},()=>{var d,p;return(p=(d=t.user)==null?void 0:d.consultant)==null?void 0:p.id}],()=>{D()},{immediate:!0}),(d,p)=>b(m)?(l(),A(T,{key:0},{default:r(()=>[s(w,{cols:"12"},{default:r(()=>[s(ye,{data:b(m)},null,8,["data"])]),_:1})]),_:1})):h("",!0)}},ze={__name:"[tab]",setup(z){const t=R();return k({get:()=>t.params.tab,set:()=>t.params.tab}),(f,m)=>(l(),u("div",null,[s(me)]))}};export{ze as default};

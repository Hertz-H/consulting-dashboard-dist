import{r as m}from"./validators-DOkm11CL.js";import{bd as $,r as c,aY as j,bb as L,E as O,f as z,o as A,e as t,b as a,s as v,t as R,d as p,aF as h,a9 as _,l as d,a2 as U,u as P,O as W,c as C,F as G,h as H,ap as N}from"./index-SPEBqYHt.js";import{_ as K}from"./AppTextField-Ci6uMStV.js";import{$ as w}from"./api-DkRQUd_R.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as s,V as B}from"./VRow-CjNF8D59.js";import{V as J}from"./VCard-DFyVdlJ0.js";import{V as D}from"./VCardText-IJlnlLC_.js";import{V as Q}from"./VSnackbar-8wHckDgj.js";import{V as X}from"./VForm-DRfWRyG2.js";import{V as k}from"./VSheet-2ImFOL82.js";import{A as Z,a as ee}from"./AccountSettingsAccount-BQxECQO9.js";import{a as ae,V as le}from"./VTabs-BSGj9V4L.js";import{a as q,V as te}from"./VWindowItem-DsWrp4Xs.js";import"./helpers-DK5QwNv0.js";import"./form-BKQV1BJc.js";import"./VTextField-Dk17KehR.js";/* empty css                   */import"./VCounter-DoeQn-hJ.js";import"./VImg-C2uT5hpN.js";import"./VField-CzZV76dA.js";import"./easing-Bybner-F.js";import"./VInput-Bl-immxi.js";import"./forwardRefs-C-GTDzx5.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VAvatar-C9-XCtkR.js";import"./VOverlay-xhDqojca.js";import"./delay-CrsiKRgC.js";import"./lazy-JwJA2OAy.js";import"./scopeId-Bqh3wK4d.js";import"./VList-CwNcYVXs.js";import"./ssrBoot-BCVcJQit.js";import"./VDivider-BvrLIspP.js";import"./ConfirmDialog-BO20aLep.js";import"./VDialog-BxS8c78H.js";import"./dialog-transition-Cqb1NDWa.js";import"./images-DNnnEzYI.js";import"./VChip-B5nePUHp.js";import"./VSlideGroup-BmrsWah-.js";import"./VFileInput-B-WGe7tF.js";const re={class:"all-starred"},oe={class:"d-flex align-center gap-2"},ne={class:"d-flex align-center gap-2"},se={class:"d-flex align-center gap-2"},de={__name:"AccountSettingsAccount",setup(T){const V=$(),i=c(!1),f=c(""),g=c("deep-purple-accent-4"),b={avatarImg:j,firstName:"john",lastName:"Doe",email:"johnDoe@example.com",org:"Pixinvent",phone:"+1 (917) 543-9876",address:"123 Main St, New York, NY 10001",state:"New York",zip:"10001",country:"USA",language:"English",timezone:"(GMT-11:00) International Date Line West",currency:"USD"};c(),c(!1);const u=c(structuredClone(b));c(!1);const F=()=>{u.value=structuredClone(b)},l=L({client:{name:"",activity:"",manager_name:""},address:{city:"",district:"",street:"",building_number:"",additional_number:"",postal_code:"",short_address:""},bank:{account_holder_name:"",account_number:"",bank_name:""}}),E=c(null),S=c(!1);function I(r){if(S.value)return;const e=(r==null?void 0:r.data)??r??{};l.client.name=e.name??"",l.client.activity=e.activity??"",l.client.manager_name=e.manager_name??"";const n=e.address||{};l.address.city=n.city??"",l.address.district=n.district??"",l.address.street=n.street??"",l.address.building_number=n.building_number??"",l.address.additional_number=n.additional_number??"",l.address.postal_code=n.postal_code??"",l.address.short_address=n.short_address??"";const o=e.bank_account||{};l.bank.account_holder_name=o.account_holder_name??"",l.bank.account_number=o.account_number??"",l.bank.bank_name=o.bank_name??"",S.value=!0}console.log(V.user.client,"user in the setting store");const M=async()=>{var e;const r=await w(`/v1/clients/${(e=V.user.client)==null?void 0:e.id}`).catch(n=>console.log(n));E.value=r==null?void 0:r.data,I(r),console.log("inside the fetch ",V.user.client)};O(()=>{M()});const y=c(!1);async function Y(){y.value=!0;const r=c({password:void 0,password_confirmation:void 0});try{await w("/v1/clients",{method:"POST",body:l,onResponseError({response:e}){r.value=e._data.errors;const n=Object.values(r.value).flat().filter(Boolean).join(`
`);f.value=n||"An error occurred while saving the client.",g.value="error",i.value=!0}}),f.value="Client saved successfully!",g.value="success",i.value=!0}catch(e){console.error(e),f.value="An error occurred while saving the client.",g.value="error",i.value=!0}finally{y.value=!1}}return(r,e)=>{const n=K;return A(),z(B,null,{default:t(()=>[a(s,{cols:"12"},{default:t(()=>[a(J,null,{default:t(()=>[a(D,{class:"d-flex"},{default:t(()=>[a(Q,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),timeout:2e3,color:g.value,class:"elevation-24",location:"top right"},{default:t(()=>[v(R(f.value),1)]),_:1},8,["modelValue","color"])]),_:1}),a(D,{class:"pt-0"},{default:t(()=>[p("div",re,[a(X,{class:"mt-0",onSubmit:h(Y,["prevent"])},{default:t(()=>[a(B,null,{default:t(()=>[a(s,{cols:"12",class:"mt-0"},{default:t(()=>[a(k,{variant:"flat",class:"section-bar bg-grey-lighten-3"},{default:t(()=>[p("div",oe,[a(_,{icon:"tabler-briefcase"}),e[14]||(e[14]=p("span",{class:"text-subtitle-1 section-title"},"Client",-1)),e[15]||(e[15]=p("span",{class:"required-star","aria-label":"required"},"*",-1))])]),_:1})]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.client.name,"onUpdate:modelValue":e[1]||(e[1]=o=>l.client.name=o),label:"Client Name",rules:["requiredValidator"in r?r.requiredValidator:d(m)],placeholder:"Example Co","prepend-inner-icon":"tabler-building"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.client.activity,"onUpdate:modelValue":e[2]||(e[2]=o=>l.client.activity=o),label:"Activity",rules:["requiredValidator"in r?r.requiredValidator:d(m)],placeholder:"Consulting Services","prepend-inner-icon":"tabler-activity"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.client.manager_name,"onUpdate:modelValue":e[3]||(e[3]=o=>l.client.manager_name=o),label:"Manager Name",rules:["requiredValidator"in r?r.requiredValidator:d(m)],placeholder:"Ahmed Ali","prepend-inner-icon":"tabler-id-badge-2"},null,8,["modelValue","rules"])]),_:1}),a(s,{cols:"12",class:"mt-4"},{default:t(()=>[a(k,{variant:"flat",class:"section-bar bg-grey-lighten-3"},{default:t(()=>[p("div",ne,[a(_,{icon:"tabler-map-pin"}),e[16]||(e[16]=p("span",{class:"text-subtitle-1 section-title"},"Address",-1)),e[17]||(e[17]=p("span",{class:"required-star","aria-label":"required"},"*",-1))])]),_:1})]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.city,"onUpdate:modelValue":e[4]||(e[4]=o=>l.address.city=o),label:"City",rules:["requiredValidator"in r?r.requiredValidator:d(m)],placeholder:"Riyadh","prepend-inner-icon":"tabler-building-skyscraper"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.district,"onUpdate:modelValue":e[5]||(e[5]=o=>l.address.district=o),label:"District",rules:["requiredValidator"in r?r.requiredValidator:d(m)],placeholder:"Al Yasmin","prepend-inner-icon":"tabler-map"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.street,"onUpdate:modelValue":e[6]||(e[6]=o=>l.address.street=o),label:"Street",rules:["requiredValidator"in r?r.requiredValidator:d(m)],placeholder:"King Road","prepend-inner-icon":"tabler-road"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.building_number,"onUpdate:modelValue":e[7]||(e[7]=o=>l.address.building_number=o),label:"Building Number",rules:["requiredValidator"in r?r.requiredValidator:d(m)],placeholder:"12","prepend-inner-icon":"tabler-building-warehouse"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.additional_number,"onUpdate:modelValue":e[8]||(e[8]=o=>l.address.additional_number=o),label:"Additional Number",placeholder:"2","prepend-inner-icon":"tabler-hash"},null,8,["modelValue"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.postal_code,"onUpdate:modelValue":e[9]||(e[9]=o=>l.address.postal_code=o),label:"Postal Code",rules:["requiredValidator"in r?r.requiredValidator:d(m)],placeholder:"11672","prepend-inner-icon":"tabler-mailbox"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"6",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.short_address,"onUpdate:modelValue":e[10]||(e[10]=o=>l.address.short_address=o),label:"Short Address",placeholder:"Riyadh, Al Yasmin, Bldg 12","prepend-inner-icon":"tabler-pin"},null,8,["modelValue"])]),_:1}),a(s,{cols:"12",class:"mt-4"},{default:t(()=>[a(k,{variant:"flat",class:"section-bar bg-grey-lighten-3"},{default:t(()=>[p("div",se,[a(_,{icon:"tabler-credit-card"}),e[18]||(e[18]=p("span",{class:"text-subtitle-1 section-title"},"Bank",-1)),e[19]||(e[19]=p("span",{class:"required-star","aria-label":"required"},"*",-1))])]),_:1})]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.bank.account_holder_name,"onUpdate:modelValue":e[11]||(e[11]=o=>l.bank.account_holder_name=o),label:"Account Holder Name",rules:["requiredValidator"in r?r.requiredValidator:d(m)],placeholder:"Example Co","prepend-inner-icon":"tabler-id"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.bank.account_number,"onUpdate:modelValue":e[12]||(e[12]=o=>l.bank.account_number=o),label:"Account Number / IBAN",rules:["requiredValidator"in r?r.requiredValidator:d(m)],placeholder:"SA03 8000 0000 6080 1016 7519","prepend-inner-icon":"tabler-hash"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.bank.bank_name,"onUpdate:modelValue":e[13]||(e[13]=o=>l.bank.bank_name=o),label:"Bank Name",rules:["requiredValidator"in r?r.requiredValidator:d(m)],placeholder:"Al Rajhi","prepend-inner-icon":"tabler-building-bank"},null,8,["modelValue","rules"])]),_:1}),a(s,{cols:"12",class:"d-flex flex-wrap gap-4 mt-4"},{default:t(()=>[a(U,{type:"submit",loading:y.value,color:"primary"},{default:t(()=>e[20]||(e[20]=[v("Save changes")])),_:1,__:[20]},8,["loading"]),a(U,{color:"secondary",variant:"tonal",type:"reset",onClick:h(F,["prevent"])},{default:t(()=>e[21]||(e[21]=[v(" Cancel ")])),_:1,__:[21]})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})}}},ie=x(de,[["__scopeId","data-v-187a7ec3"]]),Qe={__name:"[tab]",setup(T){const V=P(),i=W({get:()=>V.params.tab,set:()=>V.params.tab}),f=[{title:"Account",icon:"tabler-users",tab:"account"},{title:"Security",icon:"tabler-lock",tab:"security"}];return(g,b)=>(A(),C("div",null,[a(le,{modelValue:d(i),"onUpdate:modelValue":b[0]||(b[0]=u=>N(i)?i.value=u:null),class:"v-tabs-pill"},{default:t(()=>[(A(),C(G,null,H(f,u=>a(ae,{key:u.icon,value:u.tab,to:{name:"pages-account-settings-tab",params:{tab:u.tab}}},{default:t(()=>[a(_,{size:"20",start:"",icon:u.icon},null,8,["icon"]),v(" "+R(u.title),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"]),a(te,{modelValue:d(i),"onUpdate:modelValue":b[1]||(b[1]=u=>N(i)?i.value=u:null),class:"mt-6 disable-tab-transition",touch:!1},{default:t(()=>[a(q,{value:"account"},{default:t(()=>[a(ie)]),_:1}),a(q,{value:"consultant-account"},{default:t(()=>[a(Z)]),_:1}),a(q,{value:"security"},{default:t(()=>[a(ee)]),_:1})]),_:1},8,["modelValue"])]))}};export{Qe as default};

import{al as U,O as b,f as z,o as a,e as i,b as s,k,d as n,a9 as v,t as r,c as u,F as g,h as D,s as E,bd as L,u as R,r as O,w as P,l as F}from"./index-DLyiUI4T.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as N,V as T}from"./VRow-BThkmVdP.js";import{V as x}from"./VCard-Bp3Y2g69.js";import{V}from"./VSheet-0pTeeTvA.js";import{V as C}from"./VCardText-CNPcEnqc.js";import{V as j}from"./VImg-W922IUCz.js";import{$ as Q}from"./api-BtdnJSD2.js";/* empty css              */import"./VAvatar-GwUQM--D.js";import"./index-CvOPxmL5.js";const G={class:"section-title"},J={key:0,class:"kv-list"},K={class:"kv-label"},M={class:"kv-value"},W={class:"section-title"},X={key:0,class:"kv-list"},Y={class:"kv-label"},Z={class:"kv-value"},ee={class:"section-title"},te={key:0,class:"kv-list"},se={class:"kv-label"},le={class:"kv-value"},ae={class:"section-title"},oe={key:0,class:"kv-list"},ne={class:"kv-label"},ie={class:"kv-value"},ce={class:"section-title"},re={key:0,class:"kv-list mb-2"},ue={class:"kv-label"},de={class:"kv-value"},pe={key:1,class:"office-files"},ve={class:"file-thumb"},fe={class:"file-meta"},_e={class:"file-label"},be=["href"],me={key:2,class:"text-caption px-4 py-2"},ye={__name:"About",props:{data:{type:null,required:!0}},setup(S){const{t:m,te:y}=U({useScope:"global"}),f=S,I=e=>e?String(e).replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase()):"--",o=e=>e==null||e===""?"--":e,d=e=>typeof e=="string"&&/\.(png|jpe?g|gif|webp|bmp|svg)$/i.test(e||""),t=(e,l)=>y(e)?m(e):l??e,h=b(()=>{const e=f.data??{},l=e.bank_account??{};return{consultant:[{property:t("consultantDetails.fields.consultantName","Consultant Name"),value:o(e.name),icon:"tabler-user"},{property:t("consultantDetails.fields.licenseNumber","License Number"),value:o(e.license_number),icon:"tabler-id"},{property:t("consultantDetails.fields.type","Type"),value:I(e.consultant_type),icon:"tabler-badge"},{property:t("consultantDetails.fields.specialization","Specialization"),value:o(e.specialization),icon:"tabler-briefcase"},{property:t("consultantDetails.fields.qualification","Qualification"),value:o(e.qualification),icon:"tabler-certificate-2"}],overview:[{property:t("consultantDetails.fields.accountHolder","Account Holder"),value:o(l.account_holder_name),icon:"tabler-building-bank"},{property:t("consultantDetails.fields.accountNo","Account No."),value:o(l.account_number),icon:"tabler-hash"},{property:t("consultantDetails.fields.bank","Bank"),value:o(l.bank_name),icon:"tabler-building"}],logo:e.logo||null}}),w=b(()=>{var l;const e=((l=f.data)==null?void 0:l.user)??{};return[{property:t("consultantDetails.fields.userName","User Name"),value:o(e.name),icon:"tabler-user-circle"},{property:t("consultantDetails.fields.email","Email"),value:o(e.email),icon:"tabler-mail"},{property:t("consultantDetails.fields.phone","Phone"),value:o(e.phone),icon:"tabler-phone-call"},{property:t("consultantDetails.fields.status","Status"),value:I(e.status),icon:"tabler-circle-dot"}]}),B=b(()=>{var l;const e=((l=f.data)==null?void 0:l.address)??{};return[{property:t("consultantDetails.fields.city","City"),value:o(e.city),icon:"tabler-building-skyscraper"},{property:t("consultantDetails.fields.district","District"),value:o(e.district),icon:"tabler-map"},{property:t("consultantDetails.fields.street","Street"),value:o(e.street),icon:"tabler-road"},{property:t("consultantDetails.fields.buildingNo","Building No."),value:o(e.building_number),icon:"tabler-building"},{property:t("consultantDetails.fields.additionalNo","Additional No."),value:o(e.additional_number),icon:"tabler-plus"},{property:t("consultantDetails.fields.postalCode","Postal Code"),value:o(e.postal_code),icon:"tabler-mailbox"},{property:t("consultantDetails.fields.shortAddress","Short Address"),value:o(e.short_address),icon:"tabler-map-pin"}]}),A=b(()=>{var e;return((e=f.data)==null?void 0:e.office)??null}),$=b(()=>{const e=A.value;return e?[{property:t("consultantDetails.fields.commercialRegNo","Commercial Reg. No."),value:o(e.commercial_registration_number),icon:"tabler-building-store"},{property:t("consultantDetails.fields.establishmentNo","Establishment No."),value:o(e.establishment_number),icon:"tabler-id"},{property:t("consultantDetails.fields.unifiedNo","Unified No."),value:o(e.unified_number),icon:"tabler-hash"},{property:t("consultantDetails.fields.taxNo","Tax No."),value:o(e.tax_number),icon:"tabler-receipt-tax"},{property:t("consultantDetails.fields.insuranceNo","Insurance No."),value:o(e.insurance_number),icon:"tabler-shield-lock"}]:[]}),q=b(()=>{const e=A.value;return e?[{key:"logo",label:t("consultantDetails.files.logo","Logo"),url:e.logo||null},{key:"letterhead",label:t("consultantDetails.files.letterhead","Letterhead"),url:e.letterhead||null},{key:"unified_doc",label:t("consultantDetails.files.unifiedDoc","Unified Doc"),url:e.unified_doc||null},{key:"establishment_doc",label:t("consultantDetails.files.establishmentDoc","Establishment Doc"),url:e.establishment_doc||null},{key:"registeration_doc",label:t("consultantDetails.files.registrationDoc","Registration Doc"),url:e.registeration_doc||null}].filter(l=>!!l.url):[]});return(e,l)=>(a(),z(T,{class:"section-grid",align:"stretch"},{default:i(()=>[s(N,{cols:"12",md:"6"},{default:i(()=>[s(x,{class:"section",elevation:"1"},{default:i(()=>[s(V,{class:"section-header"},{default:i(()=>[s(v,{icon:"tabler-user-check",class:"me-2"}),n("span",G,r(t("consultantDetails.titles.about","About"))+" - "+r(t("consultantDetails.titles.consultant","Consultant")),1)]),_:1}),s(C,{class:"section-body"},{default:i(()=>{var p;return[(p=h.value.consultant)!=null&&p.length?(a(),u("div",J,[(a(!0),u(g,null,D(h.value.consultant,c=>(a(),u("div",{key:c.property,class:"kv-row"},[s(v,{icon:c.icon,size:"22",class:"kv-icon"},null,8,["icon"]),n("div",K,r(c.property),1),l[0]||(l[0]=n("div",{class:"kv-sep"},null,-1)),n("div",M,r(c.value),1)]))),128))])):k("",!0)]}),_:1})]),_:1})]),_:1}),s(N,{cols:"12",md:"6"},{default:i(()=>[s(x,{class:"section",elevation:"1"},{default:i(()=>[s(V,{class:"section-header"},{default:i(()=>[s(v,{icon:"tabler-id-badge-2",class:"me-2"}),n("span",W,r(t("consultantDetails.titles.user","User")),1)]),_:1}),s(C,{class:"section-body"},{default:i(()=>{var p;return[(p=w.value)!=null&&p.length?(a(),u("div",X,[(a(!0),u(g,null,D(w.value,c=>(a(),u("div",{key:c.property,class:"kv-row"},[s(v,{icon:c.icon,size:"22",class:"kv-icon"},null,8,["icon"]),n("div",Y,r(c.property),1),l[1]||(l[1]=n("div",{class:"kv-sep"},null,-1)),n("div",Z,r(c.value),1)]))),128))])):k("",!0)]}),_:1})]),_:1})]),_:1}),s(N,{cols:"12",md:"6"},{default:i(()=>[s(x,{class:"section",elevation:"1"},{default:i(()=>[s(V,{class:"section-header"},{default:i(()=>[s(v,{icon:"tabler-map-pin",class:"me-2"}),n("span",ee,r(t("consultantDetails.titles.address","Address")),1)]),_:1}),s(C,{class:"section-body"},{default:i(()=>{var p;return[(p=B.value)!=null&&p.length?(a(),u("div",te,[(a(!0),u(g,null,D(B.value,c=>(a(),u("div",{key:c.property,class:"kv-row"},[s(v,{icon:c.icon,size:"22",class:"kv-icon"},null,8,["icon"]),n("div",se,r(c.property),1),l[2]||(l[2]=n("div",{class:"kv-sep"},null,-1)),n("div",le,r(c.value),1)]))),128))])):k("",!0)]}),_:1})]),_:1})]),_:1}),s(N,{cols:"12",md:"6"},{default:i(()=>[s(x,{class:"section",elevation:"1"},{default:i(()=>[s(V,{class:"section-header"},{default:i(()=>[s(v,{icon:"tabler-credit-card",class:"me-2"}),n("span",ae,r(t("consultantDetails.titles.overview","Overview"))+" - "+r(t("consultantDetails.titles.bank","Bank")),1)]),_:1}),s(C,{class:"section-body"},{default:i(()=>{var p;return[(p=h.value.overview)!=null&&p.length?(a(),u("div",oe,[(a(!0),u(g,null,D(h.value.overview,c=>(a(),u("div",{key:c.property,class:"kv-row"},[s(v,{icon:c.icon,size:"22",class:"kv-icon"},null,8,["icon"]),n("div",ne,r(c.property),1),l[3]||(l[3]=n("div",{class:"kv-sep"},null,-1)),n("div",ie,r(c.value),1)]))),128))])):k("",!0)]}),_:1})]),_:1})]),_:1}),A.value?(a(),z(N,{key:0,cols:"12"},{default:i(()=>[s(x,{class:"section",elevation:"1"},{default:i(()=>[s(V,{class:"section-header"},{default:i(()=>[s(v,{icon:"tabler-building-warehouse",class:"me-2"}),n("span",ce,r(t("consultantDetails.titles.office","Office")),1)]),_:1}),s(C,{class:"section-body"},{default:i(()=>{var p,c;return[(p=$.value)!=null&&p.length?(a(),u("div",re,[(a(!0),u(g,null,D($.value,_=>(a(),u("div",{key:_.property,class:"kv-row"},[s(v,{icon:_.icon,size:"22",class:"kv-icon"},null,8,["icon"]),n("div",ue,r(_.property),1),l[4]||(l[4]=n("div",{class:"kv-sep"},null,-1)),n("div",de,r(_.value),1)]))),128))])):k("",!0),(c=q.value)!=null&&c.length?(a(),u("div",pe,[(a(!0),u(g,null,D(q.value,_=>(a(),u("div",{key:_.key,class:"file-card"},[n("div",ve,[d(_.url)?(a(),z(j,{key:0,src:_.url,cover:"",class:"thumb-img"},null,8,["src"])):(a(),z(v,{key:1,icon:"tabler-file-description",size:"28"}))]),n("div",fe,[n("div",_e,r(_.label),1),n("a",{class:"file-link",href:_.url,target:"_blank"},[s(v,{icon:"tabler-external-link",size:"16",class:"me-1"}),E(" "+r(t("consultantDetails.actions.open","Open")),1)],8,be)])]))),128))])):(a(),u("div",me,r(t("consultantDetails.empty.officeFiles","No office files on record.")),1))]}),_:1})]),_:1})]),_:1})):k("",!0)]),_:1}))}},he=H(ye,[["__scopeId","data-v-3c7b0d80"]]),ke={__name:"index",setup(S){const m=L(),y=R(),f=O(null),I=b(()=>{var t,h,w;const d=(t=y.query)==null?void 0:t.consultantId;return d||(((w=(h=m.user)==null?void 0:h.consultant)==null?void 0:w.id)??null)}),o=async()=>{if(y.params.tab!=="profile")return;const d=I.value;if(!d){f.value=null;return}try{const t=await Q(`/v1/consultants/${d}`);f.value=(t==null?void 0:t.data)??null}catch(t){console.error("Failed to fetch consultant profile",t),f.value=null}};return P([()=>y.params.tab,()=>{var d;return(d=y.query)==null?void 0:d.consultantId},()=>{var d,t;return(t=(d=m.user)==null?void 0:d.consultant)==null?void 0:t.id}],()=>{o()},{immediate:!0}),(d,t)=>F(f)?(a(),z(T,{key:0},{default:i(()=>[s(N,{cols:"12"},{default:i(()=>[s(he,{data:F(f)},null,8,["data"])]),_:1})]),_:1})):k("",!0)}},Be={__name:"[tab]",setup(S){const m=R();return b({get:()=>m.params.tab,set:()=>m.params.tab}),(y,f)=>(a(),u("div",null,[s(ke)]))}};export{Be as default};

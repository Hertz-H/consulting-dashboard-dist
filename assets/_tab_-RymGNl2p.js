import{r as c}from"./validators-BwPxdvwq.js";import{bd as Y,r as u,aZ as L,bc as O,E as z,f as P,o as h,e as t,b as a,s as v,t as R,d as p,aF as U,a9 as _,l as d,a2 as C,u as W,O as x,c as w,F as G,h as H,ap as N}from"./index-C7qtdPxF.js";import{_ as K}from"./AppTextField-B_Hg2V0D.js";import Z from"./TinyEditor-BvzPmcbB.js";import{$ as T}from"./api-CdP6DVdi.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as s,V as B}from"./VRow-B7mc-M76.js";import{V as Q}from"./VCard-CvoYH-tB.js";import{V as D}from"./VCardText--YnIOn_v.js";import{V as X}from"./VSnackbar-B-K0RDQC.js";import{V as ee}from"./VForm-BtIWxjHn.js";import{V as k}from"./VSheet-DN0xJD9A.js";import{A as ae,a as le}from"./AccountSettingsAccount-ClkheCjL.js";import{a as te,V as re}from"./VTabs-CVKD78kw.js";import{a as q,V as oe}from"./VWindowItem-B_iLe2E7.js";import"./helpers-DK5QwNv0.js";import"./VLabel-BL0IdVQU.js";import"./VTextField-BsIs5QE9.js";/* empty css                   */import"./VCounter-Cj1o1Vys.js";import"./VImg-CqiRrtog.js";import"./VField-BqJwITnM.js";import"./form-ZFmfzYYs.js";import"./easing-Bybner-F.js";import"./VInput-CbX7aBHh.js";import"./forwardRefs-C-GTDzx5.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VAvatar-G0k920wU.js";import"./VOverlay-CWnbyjJr.js";import"./delay-DqFvUsxw.js";import"./lazy-CS65LDuN.js";import"./scopeId-CskrSFPb.js";import"./VList-Dy3hiU5v.js";import"./ssrBoot-DTheOfQd.js";import"./VDivider-_zTHJTS9.js";import"./ConfirmDialog-Bi99je7-.js";import"./VDialog-DJVPmYlj.js";import"./dialog-transition-Bjxq3jQa.js";import"./images-DNnnEzYI.js";import"./VChip-0oIqGjbL.js";import"./VSlideGroup-D5YnXd4F.js";import"./VFileInput-DXjugzti.js";const ne={class:"all-starred"},se={class:"d-flex align-center gap-2"},de={class:"d-flex align-center gap-2"},ie={class:"d-flex align-center gap-2"},ue={__name:"AccountSettingsAccount",setup(I){const f=Y(),i=u(!1),V=u(""),g=u("deep-purple-accent-4"),b={avatarImg:L,firstName:"john",lastName:"Doe",email:"johnDoe@example.com",org:"Pixinvent",phone:"+1 (917) 543-9876",address:"123 Main St, New York, NY 10001",state:"New York",zip:"10001",country:"USA",language:"English",timezone:"(GMT-11:00) International Date Line West",currency:"USD"};u(),u(!1);const m=u(structuredClone(b));u(!1);const E=()=>{m.value=structuredClone(b)},l=O({client:{name:"",activity:"",manager_name:""},address:{city:"",district:"",street:"",building_number:"",additional_number:"",postal_code:"",short_address:""},bank:{account_holder_name:"",account_number:"",bank_name:""}}),F=u(null),A=u(!1);function $(r){if(A.value)return;const e=(r==null?void 0:r.data)??r??{};l.client.name=e.name??"",l.client.activity=e.activity??"",l.client.manager_name=e.manager_name??"";const n=e.address||{};l.address.city=n.city??"",l.address.district=n.district??"",l.address.street=n.street??"",l.address.building_number=n.building_number??"",l.address.additional_number=n.additional_number??"",l.address.postal_code=n.postal_code??"",l.address.short_address=n.short_address??"";const o=e.bank_account||{};l.bank.account_holder_name=o.account_holder_name??"",l.bank.account_number=o.account_number??"",l.bank.bank_name=o.bank_name??"",A.value=!0}console.log(f.user.client,"user in the setting store");const M=async()=>{var e;const r=await T(`/v1/clients/${(e=f.user.client)==null?void 0:e.id}`).catch(n=>console.log(n));F.value=r==null?void 0:r.data,$(r),console.log("inside the fetch ",f.user.client)};z(()=>{M()});const y=u(!1);async function j(){y.value=!0;const r=u({password:void 0,password_confirmation:void 0});try{await T("/v1/clients",{method:"POST",body:l,onResponseError({response:e}){r.value=e._data.errors;const n=Object.values(r.value).flat().filter(Boolean).join(`
`);V.value=n||"An error occurred while saving the client.",g.value="error",i.value=!0}}),V.value="Client saved successfully!",g.value="success",i.value=!0}catch(e){console.error(e),V.value="An error occurred while saving the client.",g.value="error",i.value=!0}finally{y.value=!1}}const S=u(`
<p>
  This is a radically reduced version of tiptap. It has support for a document, with paragraphs and text. That's it. It's probably too much for real minimalists though.
</p>
<p>
  The paragraph extension is not really required, but you need at least one node. Sure, that node can be something different.  
</p>
`);return(r,e)=>{const n=K;return h(),P(B,null,{default:t(()=>[a(s,{cols:"12"},{default:t(()=>[a(Q,null,{default:t(()=>[a(D,{class:"d-flex"},{default:t(()=>[a(X,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),timeout:2e3,color:g.value,class:"elevation-24",location:"top right"},{default:t(()=>[v(R(V.value),1)]),_:1},8,["modelValue","color"])]),_:1}),a(D,{class:"pt-0"},{default:t(()=>[p("div",ne,[a(ee,{class:"mt-0",onSubmit:U(j,["prevent"])},{default:t(()=>[a(B,null,{default:t(()=>[a(s,{cols:"12",class:"mt-0"},{default:t(()=>[a(k,{variant:"flat",class:"section-bar bg-grey-lighten-3"},{default:t(()=>[p("div",se,[a(_,{icon:"tabler-briefcase"}),e[15]||(e[15]=p("span",{class:"text-subtitle-1 section-title"},"Client",-1)),e[16]||(e[16]=p("span",{class:"required-star","aria-label":"required"},"*",-1))])]),_:1})]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.client.name,"onUpdate:modelValue":e[1]||(e[1]=o=>l.client.name=o),label:"Client Name",rules:["requiredValidator"in r?r.requiredValidator:d(c)],placeholder:"Example Co","prepend-inner-icon":"tabler-building"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.client.activity,"onUpdate:modelValue":e[2]||(e[2]=o=>l.client.activity=o),label:"Activity",rules:["requiredValidator"in r?r.requiredValidator:d(c)],placeholder:"Consulting Services","prepend-inner-icon":"tabler-activity"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.client.manager_name,"onUpdate:modelValue":e[3]||(e[3]=o=>l.client.manager_name=o),label:"Manager Name",rules:["requiredValidator"in r?r.requiredValidator:d(c)],placeholder:"Ahmed Ali","prepend-inner-icon":"tabler-id-badge-2"},null,8,["modelValue","rules"])]),_:1}),a(s,{cols:"12"},{default:t(()=>[a(Z,{modelValue:S.value,"onUpdate:modelValue":e[4]||(e[4]=o=>S.value=o),"api-key":"",label:r.editor,dir:"rtl"},null,8,["modelValue","label"])]),_:1}),a(s,{cols:"12",class:"mt-4"},{default:t(()=>[a(k,{variant:"flat",class:"section-bar bg-grey-lighten-3"},{default:t(()=>[p("div",de,[a(_,{icon:"tabler-map-pin"}),e[17]||(e[17]=p("span",{class:"text-subtitle-1 section-title"},"Address",-1)),e[18]||(e[18]=p("span",{class:"required-star","aria-label":"required"},"*",-1))])]),_:1})]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.city,"onUpdate:modelValue":e[5]||(e[5]=o=>l.address.city=o),label:"City",rules:["requiredValidator"in r?r.requiredValidator:d(c)],placeholder:"Riyadh","prepend-inner-icon":"tabler-building-skyscraper"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.district,"onUpdate:modelValue":e[6]||(e[6]=o=>l.address.district=o),label:"District",rules:["requiredValidator"in r?r.requiredValidator:d(c)],placeholder:"Al Yasmin","prepend-inner-icon":"tabler-map"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.street,"onUpdate:modelValue":e[7]||(e[7]=o=>l.address.street=o),label:"Street",rules:["requiredValidator"in r?r.requiredValidator:d(c)],placeholder:"King Road","prepend-inner-icon":"tabler-road"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.building_number,"onUpdate:modelValue":e[8]||(e[8]=o=>l.address.building_number=o),label:"Building Number",rules:["requiredValidator"in r?r.requiredValidator:d(c)],placeholder:"12","prepend-inner-icon":"tabler-building-warehouse"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.additional_number,"onUpdate:modelValue":e[9]||(e[9]=o=>l.address.additional_number=o),label:"Additional Number",placeholder:"2","prepend-inner-icon":"tabler-hash"},null,8,["modelValue"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.postal_code,"onUpdate:modelValue":e[10]||(e[10]=o=>l.address.postal_code=o),label:"Postal Code",rules:["requiredValidator"in r?r.requiredValidator:d(c)],placeholder:"11672","prepend-inner-icon":"tabler-mailbox"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"6",cols:"12"},{default:t(()=>[a(n,{modelValue:l.address.short_address,"onUpdate:modelValue":e[11]||(e[11]=o=>l.address.short_address=o),label:"Short Address",placeholder:"Riyadh, Al Yasmin, Bldg 12","prepend-inner-icon":"tabler-pin"},null,8,["modelValue"])]),_:1}),a(s,{cols:"12",class:"mt-4"},{default:t(()=>[a(k,{variant:"flat",class:"section-bar bg-grey-lighten-3"},{default:t(()=>[p("div",ie,[a(_,{icon:"tabler-credit-card"}),e[19]||(e[19]=p("span",{class:"text-subtitle-1 section-title"},"Bank",-1)),e[20]||(e[20]=p("span",{class:"required-star","aria-label":"required"},"*",-1))])]),_:1})]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.bank.account_holder_name,"onUpdate:modelValue":e[12]||(e[12]=o=>l.bank.account_holder_name=o),label:"Account Holder Name",rules:["requiredValidator"in r?r.requiredValidator:d(c)],placeholder:"Example Co","prepend-inner-icon":"tabler-id"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.bank.account_number,"onUpdate:modelValue":e[13]||(e[13]=o=>l.bank.account_number=o),label:"Account Number / IBAN",rules:["requiredValidator"in r?r.requiredValidator:d(c)],placeholder:"SA03 8000 0000 6080 1016 7519","prepend-inner-icon":"tabler-hash"},null,8,["modelValue","rules"])]),_:1}),a(s,{md:"4",cols:"12"},{default:t(()=>[a(n,{modelValue:l.bank.bank_name,"onUpdate:modelValue":e[14]||(e[14]=o=>l.bank.bank_name=o),label:"Bank Name",rules:["requiredValidator"in r?r.requiredValidator:d(c)],placeholder:"Al Rajhi","prepend-inner-icon":"tabler-building-bank"},null,8,["modelValue","rules"])]),_:1}),a(s,{cols:"12",class:"d-flex flex-wrap gap-4 mt-4"},{default:t(()=>[a(C,{type:"submit",loading:y.value,color:"primary"},{default:t(()=>e[21]||(e[21]=[v("Save changes")])),_:1,__:[21]},8,["loading"]),a(C,{color:"secondary",variant:"tonal",type:"reset",onClick:U(E,["prevent"])},{default:t(()=>e[22]||(e[22]=[v(" Cancel ")])),_:1,__:[22]})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})}}},me=J(ue,[["__scopeId","data-v-2a05de93"]]),aa={__name:"[tab]",setup(I){const f=W(),i=x({get:()=>f.params.tab,set:()=>f.params.tab}),V=[{title:"Account",icon:"tabler-users",tab:"account"},{title:"Security",icon:"tabler-lock",tab:"security"}];return(g,b)=>(h(),w("div",null,[a(re,{modelValue:d(i),"onUpdate:modelValue":b[0]||(b[0]=m=>N(i)?i.value=m:null),class:"v-tabs-pill"},{default:t(()=>[(h(),w(G,null,H(V,m=>a(te,{key:m.icon,value:m.tab,to:{name:"pages-account-settings-tab",params:{tab:m.tab}}},{default:t(()=>[a(_,{size:"20",start:"",icon:m.icon},null,8,["icon"]),v(" "+R(m.title),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"]),a(oe,{modelValue:d(i),"onUpdate:modelValue":b[1]||(b[1]=m=>N(i)?i.value=m:null),class:"mt-6 disable-tab-transition",touch:!1},{default:t(()=>[a(q,{value:"account"},{default:t(()=>[a(me)]),_:1}),a(q,{value:"consultant-account"},{default:t(()=>[a(ae)]),_:1}),a(q,{value:"security"},{default:t(()=>[a(le)]),_:1})]),_:1},8,["modelValue"])]))}};export{aa as default};

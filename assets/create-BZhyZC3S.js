import{_ as k}from"./AppTextarea-CNtAS8IN.js";import{_ as w}from"./AppTextField-jGANKBQX.js";import{al as S,r as f,bc as E,f as P,e as o,o as U,b as a,s as V,t as d,d as i,a9 as y,l as s,aF as L,a2 as h}from"./index-Df0vDIYO.js";import g from"./TinyEditor-RSwzRHpo.js";import{$ as N}from"./api-BZDa_H6V.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as v,a as n}from"./VRow-C48oP8rF.js";import{V as B}from"./VCard-CgfAP4z1.js";import{V as F}from"./VSnackbar-U_R2qOlN.js";import{V as I}from"./VCardText-CB6nWipv.js";import{V as $}from"./VForm-LJs8z4wK.js";import"./VLabel-X6aAEUPa.js";import"./VTextarea-DfgXeJQ-.js";/* empty css                   */import"./VCounter-CDNaFmaS.js";import"./VImg-D-iRAKzb.js";import"./VField-uLTC6ZdN.js";import"./form-CH_H7Z9j.js";import"./easing-Bybner-F.js";import"./VInput-DH7V_F8-.js";import"./forwardRefs-C-GTDzx5.js";import"./VTextField-Bk-xicTH.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VAvatar-BSK7_YRS.js";import"./VOverlay-CEc4fXoL.js";import"./delay-FQ7L2EsZ.js";import"./lazy-B5EM0j6M.js";import"./scopeId-DhzGCC8_.js";const j={class:"consultation-header d-flex flex-column flex-md-row align-center justify-space-between"},J={class:"header-left d-flex align-center"},M={class:"header-icon-container"},D={class:"ms-4"},R={class:"header-title"},q={class:"header-subtitle"},z="/v1/consultationTypes",H="POST",G={__name:"create",setup(K){const{t}=S(),p=f(!1),u=f(""),c=f("success"),b=f(!1),e=E({name_ar:"",name_en:"",description_ar:"",description_en:"",support_areas_ar:"",support_areas_en:""}),A=()=>!!e.name_ar.trim()&&!!e.description_ar.trim()&&!!e.support_areas_ar.trim(),T=()=>{e.name_ar="",e.name_en="",e.description_ar="",e.description_en="",e.support_areas_ar="",e.support_areas_en=""};async function C(){if(!A()){u.value=t("consultationTypesCreate.validation.requiredAr"),c.value="error",p.value=!0;return}b.value=!0;try{const x={name:JSON.stringify({ar:e.name_ar,en:e.name_en}),description:JSON.stringify({ar:e.description_ar,en:e.description_en}),support_areas:JSON.stringify({ar:e.support_areas_ar,en:e.support_areas_en})};await N(z,{method:H,body:x,onResponseError({response:r}){var l;const m=((l=r._data)==null?void 0:l.errors)||{},_=Object.values(m).flat().filter(Boolean).join(`
`);u.value=_||t("consultationTypesCreate.messages.createFailed"),c.value="error",p.value=!0}}),u.value=t("consultationTypesCreate.messages.created"),c.value="success",p.value=!0,T()}finally{b.value=!1}}return(x,r)=>{const m=w,_=k;return U(),P(v,null,{default:o(()=>[a(n,{cols:"12"},{default:o(()=>[a(B,null,{default:o(()=>[a(F,{modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=l=>p.value=l),timeout:2600,color:c.value,location:"top right",class:"elevation-24"},{default:o(()=>[V(d(u.value),1)]),_:1},8,["modelValue","color"]),a(I,null,{default:o(()=>[a(v,null,{default:o(()=>[a(n,{cols:"12"},{default:o(()=>[i("div",j,[i("div",J,[i("div",M,[a(y,{icon:"tabler-clipboard-text",size:"38"})]),i("div",D,[i("h2",R,d(s(t)("consultationTypesCreate.header.title")),1),i("p",q,d(s(t)("consultationTypesCreate.header.subtitle")),1)])])])]),_:1})]),_:1}),a($,{onSubmit:L(C,["prevent"])},{default:o(()=>[a(v,null,{default:o(()=>[a(n,{cols:"12",md:"6"},{default:o(()=>[a(m,{modelValue:e.name_ar,"onUpdate:modelValue":r[1]||(r[1]=l=>e.name_ar=l),label:s(t)("consultationTypesCreate.form.nameArLabel"),placeholder:s(t)("consultationTypesCreate.form.nameArPlaceholder"),"prepend-inner-icon":"tabler-letter-case"},null,8,["modelValue","label","placeholder"])]),_:1}),a(n,{cols:"12",md:"6"},{default:o(()=>[a(m,{modelValue:e.name_en,"onUpdate:modelValue":r[2]||(r[2]=l=>e.name_en=l),label:s(t)("consultationTypesCreate.form.nameEnLabel"),placeholder:s(t)("consultationTypesCreate.form.nameEnPlaceholder"),"prepend-inner-icon":"tabler-letter-case"},null,8,["modelValue","label","placeholder"])]),_:1}),a(n,{cols:"12",md:"6"},{default:o(()=>[a(_,{modelValue:e.description_ar,"onUpdate:modelValue":r[3]||(r[3]=l=>e.description_ar=l),label:s(t)("consultationTypesCreate.form.descArLabel"),placeholder:s(t)("consultationTypesCreate.form.descArPlaceholder"),"auto-grow":"",rows:"4","prepend-inner-icon":"tabler-file-text"},null,8,["modelValue","label","placeholder"])]),_:1}),a(n,{cols:"12",md:"6"},{default:o(()=>[a(_,{modelValue:e.description_en,"onUpdate:modelValue":r[4]||(r[4]=l=>e.description_en=l),label:s(t)("consultationTypesCreate.form.descEnLabel"),placeholder:s(t)("consultationTypesCreate.form.descEnPlaceholder"),"auto-grow":"",rows:"4","prepend-inner-icon":"tabler-file-text"},null,8,["modelValue","label","placeholder"])]),_:1}),a(n,{cols:"12",md:"6"},{default:o(()=>[a(g,{modelValue:e.support_areas_ar,"onUpdate:modelValue":r[5]||(r[5]=l=>e.support_areas_ar=l),"api-key":"",label:s(t)("consultationTypesCreate.form.supportArLabel")},null,8,["modelValue","label"])]),_:1}),a(n,{cols:"12",md:"6"},{default:o(()=>[a(g,{modelValue:e.support_areas_en,"onUpdate:modelValue":r[6]||(r[6]=l=>e.support_areas_en=l),"api-key":"",label:s(t)("consultationTypesCreate.form.supportEnLabel")},null,8,["modelValue","label"])]),_:1}),a(n,{cols:"12",class:"d-flex gap-4 mt-4"},{default:o(()=>[a(h,{loading:b.value,color:"primary",onClick:C},{default:o(()=>[a(y,{icon:"tabler-send",class:"me-2"}),V(" "+d(s(t)("consultationTypesCreate.actions.create")),1)]),_:1},8,["loading"]),a(h,{color:"default",variant:"text",onClick:T},{default:o(()=>[a(y,{icon:"tabler-eraser",class:"me-2"}),V(" "+d(s(t)("consultationTypesCreate.actions.clear")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},ge=O(G,[["__scopeId","data-v-41231fe3"]]);export{ge as default};

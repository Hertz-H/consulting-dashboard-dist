import{bg as k,b as I,a9 as E,cv as M,cu as P,ae as V,aE as f,M as h,bN as R,ay as B,O as g,N as $,r as b,w as A,aw as C,cw as D}from"./index-Df0vDIYO.js";function N(a){const{t}=k();function i(c){let{name:o,color:n}=c;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],d=a[`onClick:${o}`];function v(e){e.key!=="Enter"&&e.key!==" "||(e.preventDefault(),e.stopPropagation(),M(d,new PointerEvent("click",e)))}const m=d&&r?t(`$vuetify.input.${r}`,a.label??""):void 0;return I(E,{icon:a[`${o}Icon`],"aria-label":m,onClick:d,onKeydown:v,color:n},null)}return{InputIcon:i}}const O=h({focused:Boolean,"onUpdate:focused":R()},"focus");function x(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P();const i=V(a,"focused"),c=f(()=>({[`${t}--focused`]:i.value}));function o(){i.value=!0}function n(){i.value=!1}return{focusClasses:c,isFocused:i,focus:o,blur:n}}const p=Symbol.for("vuetify:form"),S=h({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function j(a){const t=V(a,"modelValue"),i=f(()=>a.disabled),c=f(()=>a.readonly),o=$(!1),n=b([]),r=b([]);async function d(){const e=[];let s=!0;r.value=[],o.value=!0;for(const u of n.value){const l=await u.validate();if(l.length>0&&(s=!1,e.push({id:u.id,errorMessages:l})),!s&&a.fastFail)break}return r.value=e,o.value=!1,{valid:s,errors:r.value}}function v(){n.value.forEach(e=>e.reset())}function m(){n.value.forEach(e=>e.resetValidation())}return A(n,()=>{let e=0,s=0;const u=[];for(const l of n.value)l.isValid===!1?(s++,u.push({id:l.id,errorMessages:l.errorMessages})):l.isValid===!0&&e++;r.value=u,t.value=s>0?!1:e===n.value.length?!0:null},{deep:!0,flush:"post"}),C(p,{register:e=>{let{id:s,vm:u,validate:l,reset:y,resetValidation:w}=e;n.value.some(F=>F.id===s),n.value.push({id:s,validate:l,reset:y,resetValidation:w,vm:D(u),isValid:null,errorMessages:[]})},unregister:e=>{n.value=n.value.filter(s=>s.id!==e)},update:(e,s,u)=>{const l=n.value.find(y=>y.id===e);l&&(l.isValid=s,l.errorMessages=u)},isDisabled:i,isReadonly:c,isValidating:o,isValid:t,items:n,validateOn:f(()=>a.validateOn)}),{errors:r,isDisabled:i,isReadonly:c,isValidating:o,isValid:t,items:n,validate:d,reset:v,resetValidation:m}}function L(a){const t=B(p,null);return{...t,isReadonly:g(()=>!!((a==null?void 0:a.readonly)??(t==null?void 0:t.isReadonly.value))),isDisabled:g(()=>!!((a==null?void 0:a.disabled)??(t==null?void 0:t.isDisabled.value)))}}export{L as a,N as b,j as c,S as d,O as m,x as u};

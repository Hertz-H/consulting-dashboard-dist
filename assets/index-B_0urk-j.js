import{_ as W}from"./TablePagination-CS4oRDKK.js";import{_ as F}from"./AppTextField-BlxqpuS8.js";import{_ as M}from"./AppSelect-BLLqkRTx.js";import{u as Q}from"./useApi-C1A9lyWN.js";import{c as j}from"./createUrl-BHOIYPx0.js";import{$ as A}from"./api-DA_9kprT.js";import{V as q}from"./VCard-CcIsawTw.js";import{V as G}from"./VCardText-ZhV-99WX.js";import{V as H}from"./VSpacer-B4_zHWTl.js";import{V as J}from"./VDivider-MvBfrnW2.js";import{V as K}from"./VDataTableServer-C6VjO0Ui.js";import{r as l,aW as X,O as C,c as Y,b as a,e as s,ap as p,l as o,a as D,o as Z,d as i,a2 as ee,a9 as f,s as _,t as g}from"./index-BVpKynl4.js";import{V as te}from"./VMenu-BXpJdMwU.js";import{V as ae,a as w,b as U}from"./VList-BZR-KaJu.js";import"./VPagination-DxI2BG0X.js";import"./form-BTaXsSip.js";import"./VTextField-DPG1ptcm.js";/* empty css                   */import"./VCounter-BrEPeYtP.js";import"./VImg-B5byWgVS.js";import"./VField-hxsHU2Y6.js";import"./easing-Bybner-F.js";import"./VInput-ts4WNp2Q.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-prDainHh.js";import"./dialog-transition-CsJHPI1x.js";import"./VOverlay-DwBuqUsh.js";import"./delay-GoSZAG7F.js";import"./lazy-BKTO8477.js";import"./scopeId-DCEPhMdw.js";import"./VCheckboxBtn-BLmahUsD.js";import"./VSelectionControl-Q0rF2zv_.js";import"./VAvatar-QJTJwQfz.js";import"./VChip-B2bouHh-.js";import"./VSlideGroup-DCs3qmnQ.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VDataTable-BLPts6on.js";import"./VTable-DIyP_YSt.js";import"./filter-Cwoj8dY7.js";import"./ssrBoot-CVxQAPjj.js";const se={class:"d-flex gap-2 align-center"},oe={class:"d-flex align-center flex-wrap gap-4"},le={class:"d-flex align-center gap-x-4"},ie={class:"d-flex flex-column"},re={class:"text-base"},ne={class:"text-sm"},pe={class:"text-body-1 text-high-emphasis text-capitalize"},me={class:"d-flex align-center gap-x-2"},de={class:"text-capitalize text-high-emphasis text-body-1"},tt={__name:"index",async setup(ue){let c,h;const x=l(""),V=l();l(),l();const m=l(10),d=l(1),P=l(),S=l(),u=l([]),L=r=>{var e,n;P.value=(e=r.sortBy[0])==null?void 0:e.key,S.value=(n=r.sortBy[0])==null?void 0:n.order},T=[{title:"User",key:"user"},{title:"Phone",key:"phone"},{title:"Role",key:"role"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:v,execute:k}=([c,h]=X(()=>Q(j("/v1/users"))),c=await c,h(),c),B=C(()=>v.value.data),y=C(()=>v.value.meta.total);console.log(v),console.log(v.value.data),console.log(y.value);const $=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],b=l(!1),N=async r=>{await A("/apps/users",{method:"POST",body:r}),k()},R=async r=>{await A(`/apps/users/${r}`,{method:"DELETE"});const e=u.value.findIndex(n=>n===r);e!==-1&&u.value.splice(e,1),k()};return l([{title:"Session",value:"21,459",change:29,desc:"Total Users",icon:"tabler-users",iconColor:"primary"},{title:"Paid Users",value:"4,567",change:18,desc:"Last Week Analytics",icon:"tabler-user-plus",iconColor:"error"},{title:"Active Users",value:"19,860",change:-14,desc:"Last Week Analytics",icon:"tabler-user-check",iconColor:"success"},{title:"Pending Users",value:"237",change:42,desc:"Last Week Analytics",icon:"tabler-user-search",iconColor:"warning"}]),(r,e)=>{const n=M,E=F,z=D("RouterLink"),I=W,O=D("AddNewUserDrawer");return Z(),Y("section",null,[a(q,null,{default:s(()=>[a(G,{class:"d-flex flex-wrap gap-4"},{default:s(()=>[i("div",se,[e[8]||(e[8]=i("p",{class:"text-body-1 mb-0"}," Show ",-1)),a(n,{"model-value":o(m),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=parseInt(t,10))},null,8,["model-value"])]),a(H),i("div",oe,[a(E,{modelValue:o(x),"onUpdate:modelValue":e[1]||(e[1]=t=>p(x)?x.value=t:null),placeholder:"Search User",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),a(n,{modelValue:o(V),"onUpdate:modelValue":e[2]||(e[2]=t=>p(V)?V.value=t:null),placeholder:"Select Role",items:$,clearable:"","clear-icon":"tabler-x",style:{"inline-size":"10rem"}},null,8,["modelValue"])])]),_:1}),a(J),a(K,{"items-per-page":o(m),"onUpdate:itemsPerPage":e[4]||(e[4]=t=>p(m)?m.value=t:null),"model-value":o(u),"onUpdate:modelValue":e[5]||(e[5]=t=>p(u)?u.value=t:null),page:o(d),"onUpdate:page":e[6]||(e[6]=t=>p(d)?d.value=t:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:o(B),"items-length":o(y),headers:T,class:"text-no-wrap","show-select":"","onUpdate:options":L},{"item.user":s(({item:t})=>[i("div",le,[i("div",ie,[i("h6",re,[a(z,{to:{name:"apps-user-view-id",params:{id:t.id}},class:"font-weight-medium text-link"},{default:s(()=>[_(g(t.name),1)]),_:2},1032,["to"])]),i("div",ne,g(t.email),1)])])]),"item.phone":s(({item:t})=>[i("div",pe,g(t.phone),1)]),"item.role":s(({item:t})=>[i("div",me,[i("div",de,g(t.role),1)])]),"item.actions":s(({item:t})=>[a(ee,{icon:"",variant:"text",color:"medium-emphasis"},{default:s(()=>[a(f,{icon:"tabler-dots-vertical"}),a(te,{activator:"parent"},{default:s(()=>[a(ae,null,{default:s(()=>[a(w,{to:{name:"apps-user-view-id",params:{id:t.id}}},{prepend:s(()=>[a(f,{icon:"tabler-eye"})]),default:s(()=>[a(U,null,{default:s(()=>e[9]||(e[9]=[_("View")])),_:1,__:[9]})]),_:2},1032,["to"]),a(w,{to:{name:"apps-user-view-id",params:{id:t.id}}},{prepend:s(()=>[a(f,{icon:"tabler-pencil"})]),default:s(()=>[a(U,null,{default:s(()=>e[10]||(e[10]=[_("Edit")])),_:1,__:[10]})]),_:2},1032,["to"]),a(w,{onClick:ce=>R(t.id)},{prepend:s(()=>[a(f,{icon:"tabler-trash"})]),default:s(()=>[a(U,null,{default:s(()=>e[11]||(e[11]=[_("Delete")])),_:1,__:[11]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:s(()=>[a(I,{page:o(d),"onUpdate:page":e[3]||(e[3]=t=>p(d)?d.value=t:null),"items-per-page":o(m),"total-items":o(y)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1}),a(O,{"is-drawer-open":o(b),"onUpdate:isDrawerOpen":e[7]||(e[7]=t=>p(b)?b.value=t:null),onUserData:N},null,8,["is-drawer-open"])])}}};export{tt as default};

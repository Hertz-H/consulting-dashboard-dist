import{_ as W}from"./TablePagination-DKXCs0-X.js";import{_ as F}from"./AppTextField-Ci6uMStV.js";import{_ as M}from"./AppSelect-j3BRaTcT.js";import{u as Q}from"./useApi-B0gRGbMk.js";import{c as j}from"./createUrl-BR4MHi8J.js";import{$ as A}from"./api-DkRQUd_R.js";import{V as q}from"./VCard-DFyVdlJ0.js";import{V as G}from"./VCardText-IJlnlLC_.js";import{V as H}from"./VSpacer-CSawWQ2m.js";import{V as J}from"./VDivider-BvrLIspP.js";import{V as K}from"./VDataTableServer-Chg_P70C.js";import{r as l,aW as X,O as C,c as Y,b as a,e as s,ap as p,l as o,a as D,o as Z,d as i,a2 as ee,a9 as v,s as f,t as _}from"./index-SPEBqYHt.js";import{V as te}from"./VMenu--ms9XuqF.js";import{V as ae,a as y,b}from"./VList-CwNcYVXs.js";import"./VPagination-DJ475fR3.js";import"./form-BKQV1BJc.js";import"./VTextField-Dk17KehR.js";/* empty css                   */import"./VCounter-DoeQn-hJ.js";import"./VImg-C2uT5hpN.js";import"./VField-CzZV76dA.js";import"./easing-Bybner-F.js";import"./VInput-Bl-immxi.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-D2gtKb5q.js";import"./dialog-transition-Cqb1NDWa.js";import"./VOverlay-xhDqojca.js";import"./delay-CrsiKRgC.js";import"./lazy-JwJA2OAy.js";import"./scopeId-Bqh3wK4d.js";import"./VCheckboxBtn-PoFdamqx.js";import"./VSelectionControl-CDsRdMYR.js";import"./VAvatar-C9-XCtkR.js";import"./VChip-B5nePUHp.js";import"./VSlideGroup-BmrsWah-.js";import"./index-CvOPxmL5.js";/* empty css              */import"./VDataTable-DgfEu6ut.js";import"./VTable-B6BBeB9Z.js";import"./filter-DHl6CSsz.js";import"./ssrBoot-BCVcJQit.js";const se={class:"d-flex gap-2 align-center"},oe={class:"d-flex align-center flex-wrap gap-4"},le={class:"d-flex align-center gap-x-4"},ie={class:"d-flex flex-column"},re={class:"text-base"},ne={class:"text-sm"},pe={class:"text-body-1 text-high-emphasis text-capitalize"},me={class:"d-flex align-center gap-x-2"},de={class:"text-capitalize text-high-emphasis text-body-1"},tt={__name:"index",async setup(ue){let c,w;const g=l(""),x=l();l(),l();const m=l(10),d=l(1),P=l(),S=l(),u=l([]),L=r=>{var e,n;P.value=(e=r.sortBy[0])==null?void 0:e.key,S.value=(n=r.sortBy[0])==null?void 0:n.order},T=[{title:"User",key:"user"},{title:"Phone",key:"phone"},{title:"Role",key:"role"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:U,execute:h}=([c,w]=X(()=>Q(j("/v1/users"))),c=await c,w(),c),B=C(()=>U.value.data),k=C(()=>U.value.meta.total),$=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],V=l(!1),N=async r=>{await A("/apps/users",{method:"POST",body:r}),h()},R=async r=>{await A(`/apps/users/${r}`,{method:"DELETE"});const e=u.value.findIndex(n=>n===r);e!==-1&&u.value.splice(e,1),h()};return l([{title:"Session",value:"21,459",change:29,desc:"Total Users",icon:"tabler-users",iconColor:"primary"},{title:"Paid Users",value:"4,567",change:18,desc:"Last Week Analytics",icon:"tabler-user-plus",iconColor:"error"},{title:"Active Users",value:"19,860",change:-14,desc:"Last Week Analytics",icon:"tabler-user-check",iconColor:"success"},{title:"Pending Users",value:"237",change:42,desc:"Last Week Analytics",icon:"tabler-user-search",iconColor:"warning"}]),(r,e)=>{const n=M,E=F,z=D("RouterLink"),I=W,O=D("AddNewUserDrawer");return Z(),Y("section",null,[a(q,null,{default:s(()=>[a(G,{class:"d-flex flex-wrap gap-4"},{default:s(()=>[i("div",se,[e[8]||(e[8]=i("p",{class:"text-body-1 mb-0"},"Show",-1)),a(n,{"model-value":o(m),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=parseInt(t,10))},null,8,["model-value"])]),a(H),i("div",oe,[a(E,{modelValue:o(g),"onUpdate:modelValue":e[1]||(e[1]=t=>p(g)?g.value=t:null),placeholder:"Search User",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),a(n,{modelValue:o(x),"onUpdate:modelValue":e[2]||(e[2]=t=>p(x)?x.value=t:null),placeholder:"Select Role",items:$,clearable:"","clear-icon":"tabler-x",style:{"inline-size":"10rem"}},null,8,["modelValue"])])]),_:1}),a(J),a(K,{"items-per-page":o(m),"onUpdate:itemsPerPage":e[4]||(e[4]=t=>p(m)?m.value=t:null),"model-value":o(u),"onUpdate:modelValue":e[5]||(e[5]=t=>p(u)?u.value=t:null),page:o(d),"onUpdate:page":e[6]||(e[6]=t=>p(d)?d.value=t:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:o(B),"items-length":o(k),headers:T,class:"text-no-wrap","show-select":"","onUpdate:options":L},{"item.user":s(({item:t})=>[i("div",le,[i("div",ie,[i("h6",re,[a(z,{to:{name:"apps-user-view-id",params:{id:t.id}},class:"font-weight-medium text-link"},{default:s(()=>[f(_(t.name),1)]),_:2},1032,["to"])]),i("div",ne,_(t.email),1)])])]),"item.phone":s(({item:t})=>[i("div",pe,_(t.phone),1)]),"item.role":s(({item:t})=>[i("div",me,[i("div",de,_(t.role),1)])]),"item.actions":s(({item:t})=>[a(ee,{icon:"",variant:"text",color:"medium-emphasis"},{default:s(()=>[a(v,{icon:"tabler-dots-vertical"}),a(te,{activator:"parent"},{default:s(()=>[a(ae,null,{default:s(()=>[a(y,{to:{name:"apps-user-view-id",params:{id:t.id}}},{prepend:s(()=>[a(v,{icon:"tabler-eye"})]),default:s(()=>[a(b,null,{default:s(()=>e[9]||(e[9]=[f("View")])),_:1,__:[9]})]),_:2},1032,["to"]),a(y,{to:{name:"apps-user-view-id",params:{id:t.id}}},{prepend:s(()=>[a(v,{icon:"tabler-pencil"})]),default:s(()=>[a(b,null,{default:s(()=>e[10]||(e[10]=[f("Edit")])),_:1,__:[10]})]),_:2},1032,["to"]),a(y,{onClick:ce=>R(t.id)},{prepend:s(()=>[a(v,{icon:"tabler-trash"})]),default:s(()=>[a(b,null,{default:s(()=>e[11]||(e[11]=[f("Delete")])),_:1,__:[11]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:s(()=>[a(I,{page:o(d),"onUpdate:page":e[3]||(e[3]=t=>p(d)?d.value=t:null),"items-per-page":o(m),"total-items":o(k)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1}),a(O,{"is-drawer-open":o(V),"onUpdate:isDrawerOpen":e[7]||(e[7]=t=>p(V)?V.value=t:null),onUserData:N},null,8,["is-drawer-open"])])}}};export{tt as default};

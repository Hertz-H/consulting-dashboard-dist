import{r as x,e as T}from"./validators-DOkm11CL.js";import{r as u,u as A,i as D,a as N,c as j,o as E,b as a,e as s,d as o,l as t,G as V,t as k,s as l,aF as S,ap as U,a2 as $,F as G,au as L}from"./index-SPEBqYHt.js";import{_ as z}from"./AppTextField-Ci6uMStV.js";import{_ as W}from"./AuthProvider-DX-v02SE.js";import{u as C}from"./useGenerateImageVariant-IjqwUNAJ.js";import{a as H,b as J,c as K,d as O}from"./auth-v2-login-illustration-light-8U3Ay0LB.js";import{a as Q,b as X}from"./misc-mask-light-CdCn4Q-o.js";import{V as Y}from"./VNodeRenderer-YvxdNA-v.js";import{u as Z}from"./authStore-DpuddZCk.js";import{u as ee}from"./useAbility-BXQQjNij.js";import{a as i,V as F}from"./VRow-CjNF8D59.js";import{V as ae}from"./VImg-C2uT5hpN.js";import{V as te}from"./VCard-DFyVdlJ0.js";import{V as g}from"./VCardText-IJlnlLC_.js";import{V as se}from"./VAlert-BJikoS0_.js";import{V as oe}from"./VForm-DRfWRyG2.js";import{V as re}from"./VCheckbox-BbRGe7rs.js";import{V as I}from"./VDivider-BvrLIspP.js";import"./helpers-DK5QwNv0.js";import"./form-BKQV1BJc.js";import"./VTextField-Dk17KehR.js";/* empty css                   */import"./VCounter-DoeQn-hJ.js";import"./VField-CzZV76dA.js";import"./easing-Bybner-F.js";import"./VInput-Bl-immxi.js";import"./forwardRefs-C-GTDzx5.js";import"./useApi-B0gRGbMk.js";/* empty css              */import"./VAvatar-C9-XCtkR.js";import"./VCheckboxBtn-PoFdamqx.js";import"./VSelectionControl-CDsRdMYR.js";const le={class:"auth-logo d-flex align-center gap-x-3"},ie={class:"auth-title"},ne={class:"position-relative bg-background w-100 me-0"},me={class:"justify-center d-flex align-center w-100 h-100",style:{"padding-inline":"6.25rem"}},de=["src"],ue={class:"mb-1 text-h4"},pe={class:"text-capitalize"},fe={class:"flex-wrap my-6 d-flex align-center justify-space-between"},Je={__name:"login-2",setup(ce){var h;const R=C(O,K,J,H,!0),q=C(X,Q),p=u(!1),_=A(),w=D();(h=ee)==null||h();const B=Z(),n=u({email:void 0,password:void 0,_form:void 0}),b=u(),m=u({email:"admin@demo.com",password:"admin"}),f=u(!1),v=u("");async function M(){n.value={email:void 0,password:void 0,_form:void 0},v.value="";try{const{isVerified:r,message:e}=await B.login({email:m.value.email,password:m.value.password});if(e&&(v.value=e),!r){await L(()=>{w.replace({name:"verify"})});return}await L(()=>{w.replace(_.query.to?String(_.query.to):"/")})}catch(r){const e=(r==null?void 0:r.message)||"Login failed";n.value.password=void 0,n.value.email=void 0,n.value._form=e}}const P=()=>{var r;(r=b.value)==null||r.validate().then(({valid:e})=>{e&&M()})};return(r,e)=>{const c=N("RouterLink"),y=z;return E(),j(G,null,[a(c,{to:"/"},{default:s(()=>[o("div",le,[a(t(Y),{nodes:t(V).app.logo},null,8,["nodes"]),o("h1",ie,k(t(V).app.title),1)])]),_:1}),a(F,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:s(()=>[a(i,{md:"8",class:"d-none d-md-flex"},{default:s(()=>[o("div",ne,[o("div",me,[a(ae,{"max-width":"613",src:t(R),class:"mt-16 mb-2 auth-illustration"},null,8,["src"])]),o("img",{class:"auth-footer-mask",src:t(q),alt:"auth-footer-mask",height:"280",width:"100"},null,8,de)])]),_:1}),a(i,{cols:"12",md:"4",class:"justify-center auth-card-v2 d-flex align-center"},{default:s(()=>[a(te,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:s(()=>[a(g,null,{default:s(()=>[o("h4",ue,[e[4]||(e[4]=l(" Welcome to ")),o("span",pe,k(t(V).app.title),1),e[5]||(e[5]=l("!  "))]),e[6]||(e[6]=o("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1))]),_:1,__:[6]}),a(g,null,{default:s(()=>[a(se,{color:"primary",variant:"tonal"},{default:s(()=>e[7]||(e[7]=[o("p",{class:"mb-2 text-sm"},[l(" Admin Email: "),o("strong",null,"admin@demo.com"),l(" / Pass: "),o("strong",null,"admin")],-1),o("p",{class:"mb-0 text-sm"},[l(" Client Email: "),o("strong",null,"client@demo.com"),l(" / Pass: "),o("strong",null,"client")],-1)])),_:1,__:[7]})]),_:1}),a(g,null,{default:s(()=>[a(t(oe),{ref_key:"refVForm",ref:b,onSubmit:S(P,["prevent"])},{default:s(()=>[a(F,null,{default:s(()=>[a(i,{cols:"12"},{default:s(()=>[a(y,{modelValue:t(m).email,"onUpdate:modelValue":e[0]||(e[0]=d=>t(m).email=d),label:"Email",placeholder:"johndoe@email.com",type:"email",autofocus:"",rules:["requiredValidator"in r?r.requiredValidator:t(x),"emailValidator"in r?r.emailValidator:t(T)],"error-messages":t(n).email},null,8,["modelValue","rules","error-messages"])]),_:1}),a(i,{cols:"12"},{default:s(()=>[a(y,{modelValue:t(m).password,"onUpdate:modelValue":e[1]||(e[1]=d=>t(m).password=d),label:"Password",placeholder:"路路路路路路路路路路路路",rules:["requiredValidator"in r?r.requiredValidator:t(x)],type:t(p)?"text":"password",autocomplete:"password","error-messages":t(n).password,"append-inner-icon":t(p)?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[2]||(e[2]=d=>p.value=!t(p))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),o("div",fe,[a(re,{modelValue:t(f),"onUpdate:modelValue":e[3]||(e[3]=d=>U(f)?f.value=d:null),label:"Remember me"},null,8,["modelValue"]),a(c,{class:"mb-1 text-primary ms-2",to:{name:"forgot-password"}},{default:s(()=>e[8]||(e[8]=[l(" Forgot Password? ")])),_:1,__:[8]})]),a($,{block:"",type:"submit"},{default:s(()=>e[9]||(e[9]=[l(" Login ")])),_:1,__:[9]})]),_:1}),a(i,{cols:"12",class:"text-center"},{default:s(()=>[e[11]||(e[11]=o("span",null,"New on our platform?",-1)),a(c,{class:"text-primary ms-1",to:{name:"register"}},{default:s(()=>e[10]||(e[10]=[l(" Create an account ")])),_:1,__:[10]})]),_:1,__:[11]}),a(i,{cols:"12",class:"d-flex align-center"},{default:s(()=>[a(I),e[12]||(e[12]=o("span",{class:"mx-4"},"or",-1)),a(I)]),_:1,__:[12]}),a(i,{cols:"12",class:"text-center"},{default:s(()=>[a(W)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{Je as default};

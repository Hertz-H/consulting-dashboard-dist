import{r as h,e as B}from"./validators-DOkm11CL.js";import{r as d,u as P,i as T,a as A,c as D,o as M,b as t,e as o,d as s,l as a,G as g,t as x,s as l,aF as N,ap as j,a2 as E,F as S,au as U}from"./index-BVpKynl4.js";import{_ as $}from"./AppTextField-BlxqpuS8.js";import{u as G}from"./authStore-CRiwnC_8.js";import{_ as z}from"./AuthProvider-Bl-jkb8j.js";import{u as y}from"./useGenerateImageVariant-BT010rPW.js";import{a as W,b as H,c as J,d as K}from"./auth-v2-login-illustration-light-8U3Ay0LB.js";import{a as O,b as Q}from"./misc-mask-light-CdCn4Q-o.js";import{V as X}from"./VNodeRenderer-DvOkQ03y.js";import{u as Y}from"./useAbility-CNOcqIEf.js";import{a as i,V as v}from"./VRow-ZTOT4Z3s.js";import{V as Z}from"./VImg-B5byWgVS.js";import{V as ee}from"./VCard-CcIsawTw.js";import{V}from"./VCardText-ZhV-99WX.js";import{V as te}from"./VAlert-csVW849v.js";import{V as ae}from"./VForm-BXdIeyJa.js";import{V as oe}from"./VCheckbox-Bi2X8NwN.js";import{V as k}from"./VDivider-MvBfrnW2.js";import"./helpers-DK5QwNv0.js";import"./form-BTaXsSip.js";import"./VTextField-DPG1ptcm.js";/* empty css                   */import"./VCounter-BrEPeYtP.js";import"./VField-hxsHU2Y6.js";import"./easing-Bybner-F.js";import"./VInput-ts4WNp2Q.js";import"./forwardRefs-C-GTDzx5.js";import"./useApi-C1A9lyWN.js";/* empty css              */import"./VAvatar-QJTJwQfz.js";import"./VCheckboxBtn-BLmahUsD.js";import"./VSelectionControl-Q0rF2zv_.js";const se={class:"auth-logo d-flex align-center gap-x-3"},re={class:"auth-title"},le={class:"position-relative bg-background w-100 me-0"},ie={class:"justify-center d-flex align-center w-100 h-100",style:{"padding-inline":"6.25rem"}},ne=["src"],me={class:"mb-1 text-h4"},de={class:"text-capitalize"},ue={class:"flex-wrap my-6 d-flex align-center justify-space-between"},We={__name:"login",setup(pe){const L=y(K,J,H,W,!0),C=y(Q,O),u=d(!1),_=P(),F=T();Y();const{login:I}=G(),p=d({email:void 0,password:void 0}),b=d(),m=d({email:"",password:""}),f=d(!1),R=async()=>{var r;try{const e=await I(m.value);e.message&&console.log(e.message),console.log(e),await U(),F.replace(_.query.to?String(_.query.to):"/")}catch(e){(r=e==null?void 0:e.data)!=null&&r.errors?p.value=e.data.errors:(console.log(e),p.value={email:e.message||"Login failed"})}},q=()=>{var r;(r=b.value)==null||r.validate().then(({valid:e})=>{e&&R()})};return(r,e)=>{const c=A("RouterLink"),w=$;return M(),D(S,null,[t(c,{to:"/"},{default:o(()=>[s("div",se,[t(a(X),{nodes:a(g).app.logo},null,8,["nodes"]),s("h1",re,x(a(g).app.title),1)])]),_:1}),t(v,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:o(()=>[t(i,{md:"8",class:"d-none d-md-flex"},{default:o(()=>[s("div",le,[s("div",ie,[t(Z,{"max-width":"613",src:a(L),class:"mt-16 mb-2 auth-illustration"},null,8,["src"])]),s("img",{class:"auth-footer-mask",src:a(C),alt:"auth-footer-mask",height:"280",width:"100"},null,8,ne)])]),_:1}),t(i,{cols:"12",md:"4",class:"justify-center auth-card-v2 d-flex align-center"},{default:o(()=>[t(ee,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:o(()=>[t(V,null,{default:o(()=>[s("h4",me,[e[4]||(e[4]=l(" Welcome to ")),s("span",de,x(a(g).app.title),1),e[5]||(e[5]=l("!  "))]),e[6]||(e[6]=s("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1))]),_:1,__:[6]}),t(V,null,{default:o(()=>[t(te,{color:"primary",variant:"tonal"},{default:o(()=>e[7]||(e[7]=[s("p",{class:"mb-2 text-sm"},[l(" Admin Email: "),s("strong",null,"admin@demo.com"),l(" / Pass: "),s("strong",null,"admin")],-1),s("p",{class:"mb-0 text-sm"},[l(" Client Email: "),s("strong",null,"client@demo.com"),l(" / Pass: "),s("strong",null,"client")],-1)])),_:1,__:[7]})]),_:1}),t(V,null,{default:o(()=>[t(a(ae),{ref_key:"refVForm",ref:b,onSubmit:N(q,["prevent"])},{default:o(()=>[t(v,null,{default:o(()=>[t(i,{cols:"12"},{default:o(()=>[t(w,{modelValue:a(m).email,"onUpdate:modelValue":e[0]||(e[0]=n=>a(m).email=n),label:"Email",placeholder:"johndoe@email.com",type:"email",autofocus:"",rules:["requiredValidator"in r?r.requiredValidator:a(h),"emailValidator"in r?r.emailValidator:a(B)],"error-messages":a(p).email},null,8,["modelValue","rules","error-messages"])]),_:1}),t(i,{cols:"12"},{default:o(()=>[t(w,{modelValue:a(m).password,"onUpdate:modelValue":e[1]||(e[1]=n=>a(m).password=n),label:"Password",placeholder:"路路路路路路路路路路路路",rules:["requiredValidator"in r?r.requiredValidator:a(h)],type:a(u)?"text":"password",autocomplete:"password","error-messages":a(p).password,"append-inner-icon":a(u)?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[2]||(e[2]=n=>u.value=!a(u))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),s("div",ue,[t(oe,{modelValue:a(f),"onUpdate:modelValue":e[3]||(e[3]=n=>j(f)?f.value=n:null),label:"Remember me"},null,8,["modelValue"]),t(c,{class:"mb-1 text-primary ms-2",to:{name:"forgot-password"}},{default:o(()=>e[8]||(e[8]=[l(" Forgot Password? ")])),_:1,__:[8]})]),t(E,{block:"",type:"submit"},{default:o(()=>e[9]||(e[9]=[l(" Login ")])),_:1,__:[9]})]),_:1}),t(i,{cols:"12",class:"text-center"},{default:o(()=>[e[11]||(e[11]=s("span",null,"New on our platform?",-1)),t(c,{class:"text-primary ms-1",to:{name:"register"}},{default:o(()=>e[10]||(e[10]=[l(" Create an account ")])),_:1,__:[10]})]),_:1,__:[11]}),t(i,{cols:"12",class:"d-flex align-center"},{default:o(()=>[t(k),e[12]||(e[12]=s("span",{class:"mx-4"},"or",-1)),t(k)]),_:1,__:[12]}),t(i,{cols:"12",class:"text-center"},{default:o(()=>[t(z)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{We as default};

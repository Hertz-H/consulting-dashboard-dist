import{_ as N}from"./AppTextField-6Zt2y8Qn.js";import{al as U,i as z,u as A,r as c,O as E,a as L,c as T,o as R,b as t,e as l,d as o,l as s,k as M,s as f,a9 as g,t as n,aF as O,a2 as S,au as j}from"./index-DLyiUI4T.js";import{_ as $}from"./sc-Cf-H3ghh.js";import{u as D}from"./authStore-Czv366bH.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as q,a as v}from"./VRow-BThkmVdP.js";import{V as G}from"./VCard-Bp3Y2g69.js";import{V as H}from"./VCardText-CNPcEnqc.js";import{V as J}from"./VForm-Vmkhs5rN.js";import{V as K}from"./VCheckbox-rfyeF3b3.js";import{V as Q}from"./VContainer-DF-lMkWu.js";import{V as W}from"./VSnackbar-TawvNeit.js";import"./VLabel-Bj0ZLaaG.js";import"./VTextField-D_VDXh9N.js";/* empty css                   */import"./VCounter-DSUdNhJf.js";import"./VImg-W922IUCz.js";import"./VField-DJvLbBqg.js";import"./form-4FzIkTDC.js";import"./easing-Bybner-F.js";import"./VInput-CZKa1bvG.js";import"./forwardRefs-C-GTDzx5.js";import"./useApi-B07hdb0V.js";/* empty css              */import"./VAvatar-GwUQM--D.js";import"./VCheckboxBtn-DpT_qdyT.js";import"./VSelectionControl-DGmCswqu.js";import"./VOverlay-BpuXFPpY.js";import"./delay-CJQMA8o3.js";import"./lazy-D7mfu-eq.js";import"./scopeId-BqXwnYFS.js";const X={class:"admin-login-page",dir:"rtl"},Y={class:"hero-visual"},Z={class:"hero-image"},ee={class:"img-container"},oe=["alt"],te={class:"float-card float-top float-top--mini"},ae={class:"mini-head"},le={class:"mini-badge"},se={class:"mini-state"},ie={key:0,class:"mini-desc"},re={class:"float-card float-bottom"},ne={class:"d-flex align-center justify-space-between"},ue={class:"float-muted"},de={class:"float-big"},me={class:"float-icon"},ce={class:"secure-hint"},pe={class:"hero-copy"},fe={class:"hero-title"},ve={class:"hero-subtitle"},_e={__name:"login",setup(ge){const{t:a}=U(),y=z(),w=A(),B=D(),b=c(!1),_=c(!1),h=c(!1),k=c(""),x=c("success"),V=(m,e="success")=>{k.value=m,x.value=e,h.value=!0},u=c({email:"",password:"",remember:!0}),F=E(()=>{var m,e;return!!((m=u.value.email)!=null&&m.trim())&&!!((e=u.value.password)!=null&&e.trim())}),p=c(""),I=async()=>{var m,e;if(!F.value){V(a("auth.login.validation_required"),"error");return}b.value=!0,p.value="";try{const{isVerified:d,message:r}=await B.login({email:u.value.email,password:u.value.password,remember:u.value.remember});if(r&&(p.value=r),d===!1){V(p.value||a("auth.login.verify_required"),"warning"),await j(()=>y.replace({name:"verify"}));return}const i=w.query.to?String(w.query.to):"/";await j(()=>y.replace(i))}catch(d){const r=(m=d==null?void 0:d.response)==null?void 0:m.data;let i=(r==null?void 0:r.message)||(d==null?void 0:d.message)||p.value||a("auth.login.invalid");const C=r!=null&&r.errors?(e=Object.values(r.errors).flat())==null?void 0:e[0]:null;C&&(i=C),V(i,"error")}finally{b.value=!1}};return(m,e)=>{const d=N,r=L("RouterLink");return R(),T("section",X,[t(Q,{class:"content",fluid:""},{default:l(()=>[t(q,{class:"align-center",style:{"min-height":"100vh"}},{default:l(()=>[t(v,{cols:"12",md:"6",class:"d-flex justify-center"},{default:l(()=>[o("div",Y,[o("div",Z,[e[7]||(e[7]=o("div",{class:"shimmer"},null,-1)),e[8]||(e[8]=o("div",{class:"visual-bg"},null,-1)),e[9]||(e[9]=o("span",{class:"orb orb-1"},null,-1)),e[10]||(e[10]=o("span",{class:"orb orb-2"},null,-1)),e[11]||(e[11]=o("span",{class:"orb orb-3"},null,-1)),o("div",ee,[o("img",{src:$,alt:s(a)("auth.login.title")},null,8,oe)]),o("div",te,[o("div",ae,[o("div",le,[t(g,{icon:"tabler-shield-lock",size:"16",class:"me-1"}),f(" "+n(s(a)("auth.login.admin_portal")),1)]),o("div",se,[e[5]||(e[5]=o("span",{class:"mini-dot"},null,-1)),f(" "+n(s(a)("auth.login.protected")),1)])]),p.value?(R(),T("div",ie,n(p.value),1)):M("",!0)]),o("div",re,[o("div",ne,[o("div",null,[o("div",ue,n(s(a)("auth.login.system")),1),o("div",de,n(s(a)("auth.login.dashboard")),1)]),o("div",me,[t(g,{icon:"tabler-layout-dashboard",size:"22"})])]),o("div",ce,[e[6]||(e[6]=o("span",{class:"dot"},null,-1)),o("span",null,n(s(a)("auth.login.admin_only")),1)])])])])]),_:1}),t(v,{cols:"12",md:"6"},{default:l(()=>[o("div",pe,[o("h1",fe,n(s(a)("auth.login.title")),1),o("p",ve,n(s(a)("auth.login.subtitle")),1),t(G,{class:"login-card",elevation:"0"},{default:l(()=>[t(H,null,{default:l(()=>[t(J,{onSubmit:O(I,["prevent"])},{default:l(()=>[t(q,null,{default:l(()=>[t(v,{cols:"12"},{default:l(()=>[t(d,{modelValue:u.value.email,"onUpdate:modelValue":e[0]||(e[0]=i=>u.value.email=i),label:s(a)("auth.login.email"),placeholder:s(a)("auth.login.email_placeholder"),"prepend-inner-icon":"tabler-mail",autocomplete:"email"},null,8,["modelValue","label","placeholder"])]),_:1}),t(v,{cols:"12"},{default:l(()=>[t(d,{modelValue:u.value.password,"onUpdate:modelValue":e[1]||(e[1]=i=>u.value.password=i),type:_.value?"text":"password",label:s(a)("auth.login.password"),placeholder:s(a)("auth.login.password_placeholder"),"prepend-inner-icon":"tabler-lock","append-inner-icon":_.value?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[2]||(e[2]=i=>_.value=!_.value),autocomplete:"current-password"},null,8,["modelValue","type","label","placeholder","append-inner-icon"])]),_:1}),t(v,{cols:"12",class:"d-flex align-center justify-space-between"},{default:l(()=>[t(K,{modelValue:u.value.remember,"onUpdate:modelValue":e[3]||(e[3]=i=>u.value.remember=i),density:"compact","hide-details":"",label:s(a)("auth.login.remember")},null,8,["modelValue","label"]),t(r,{class:"link",to:"forgot-password"},{default:l(()=>[f(n(s(a)("auth.login.forgot")),1)]),_:1})]),_:1}),t(v,{cols:"12",class:"d-flex gap-3 mt-2"},{default:l(()=>[t(S,{type:"submit",loading:b.value,color:"primary",class:"btn-primary"},{default:l(()=>[t(g,{icon:"tabler-login",class:"me-2"}),f(" "+n(s(a)("auth.login.submit")),1)]),_:1},8,["loading"]),t(S,{variant:"outlined",class:"btn-outline",href:"http://smrt-consulting.net/",target:"_blank"},{default:l(()=>[t(g,{icon:"tabler-home",class:"me-2"}),f(" "+n(s(a)("auth.login.home")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),t(W,{modelValue:h.value,"onUpdate:modelValue":e[4]||(e[4]=i=>h.value=i),color:x.value,location:"bottom end",timeout:"3500"},{default:l(()=>[f(n(k.value),1)]),_:1},8,["modelValue","color"])])}}},Qe=P(_e,[["__scopeId","data-v-ff67fc64"]]);export{Qe as default};

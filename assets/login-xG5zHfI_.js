import{r as h,e as B}from"./validators-DOkm11CL.js";import{r as d,u as P,i as T,a as A,c as D,o as M,b as t,e as s,d as o,l as a,G as g,t as x,s as l,aF as N,ap as j,a2 as E,F as S,au as U}from"./index-BxU12KgC.js";import{_ as $}from"./AppTextField-CLvxn6_C.js";import{u as G}from"./authStore-0WHjrlS9.js";import{_ as z}from"./AuthProvider-QiUGn1mo.js";import{u as y}from"./useGenerateImageVariant-BgLRhHZV.js";import{a as W,b as H,c as J,d as K}from"./auth-v2-login-illustration-light-8U3Ay0LB.js";import{a as O,b as Q}from"./misc-mask-light-CdCn4Q-o.js";import{V as X}from"./VNodeRenderer-DDw5HLf0.js";import{u as Y}from"./useAbility-_z6i8Ti6.js";import{a as i,V as v}from"./VRow--HD-L7TS.js";import{V as Z}from"./VImg-BWtlGard.js";import{V as ee}from"./VCard-CslEgE47.js";import{V}from"./VCardText-CTVtF3nt.js";import{V as te}from"./VAlert-CYMg6DEX.js";import{V as ae}from"./VForm-BT--ttCz.js";import{V as se}from"./VCheckbox-CaHYupe5.js";import{V as k}from"./VDivider-Br-SdFzS.js";import"./helpers-DK5QwNv0.js";import"./form-BXvCDZ_7.js";import"./VTextField-D5CDNjP_.js";/* empty css                   */import"./VCounter-DG6qVdKp.js";import"./VField-mQ2GfzOK.js";import"./easing-Bybner-F.js";import"./VInput-DkirN1Ab.js";import"./forwardRefs-C-GTDzx5.js";import"./useApi-Cyqe7-X3.js";/* empty css              */import"./VAvatar-BhdHmQHY.js";import"./VCheckboxBtn-CLDgRS1a.js";import"./VSelectionControl-s-29lyWy.js";const oe={class:"auth-logo d-flex align-center gap-x-3"},re={class:"auth-title"},le={class:"position-relative bg-background w-100 me-0"},ie={class:"justify-center d-flex align-center w-100 h-100",style:{"padding-inline":"6.25rem"}},ne=["src"],me={class:"mb-1 text-h4"},de={class:"text-capitalize"},ue={class:"flex-wrap my-6 d-flex align-center justify-space-between"},We={__name:"login",setup(pe){const L=y(K,J,H,W,!0),C=y(Q,O),u=d(!1),_=P(),F=T();Y();const{login:I}=G(),p=d({email:void 0,password:void 0}),b=d(),m=d({email:"",password:""}),f=d(!1),R=async()=>{var r;try{(await I(m.value)).message,await U(),F.replace(_.query.to?String(_.query.to):"/")}catch(e){(r=e==null?void 0:e.data)!=null&&r.errors?p.value=e.data.errors:(console.log(e),p.value={email:e.message||"Login failed"})}},q=()=>{var r;(r=b.value)==null||r.validate().then(({valid:e})=>{e&&R()})};return(r,e)=>{const c=A("RouterLink"),w=$;return M(),D(S,null,[t(c,{to:"/"},{default:s(()=>[o("div",oe,[t(a(X),{nodes:a(g).app.logo},null,8,["nodes"]),o("h1",re,x(a(g).app.title),1)])]),_:1}),t(v,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:s(()=>[t(i,{md:"8",class:"d-none d-md-flex"},{default:s(()=>[o("div",le,[o("div",ie,[t(Z,{"max-width":"613",src:a(L),class:"mt-16 mb-2 auth-illustration"},null,8,["src"])]),o("img",{class:"auth-footer-mask",src:a(C),alt:"auth-footer-mask",height:"280",width:"100"},null,8,ne)])]),_:1}),t(i,{cols:"12",md:"4",class:"justify-center auth-card-v2 d-flex align-center"},{default:s(()=>[t(ee,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:s(()=>[t(V,null,{default:s(()=>[o("h4",me,[e[4]||(e[4]=l(" Welcome to ")),o("span",de,x(a(g).app.title),1),e[5]||(e[5]=l("!  "))]),e[6]||(e[6]=o("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1))]),_:1,__:[6]}),t(V,null,{default:s(()=>[t(te,{color:"primary",variant:"tonal"},{default:s(()=>e[7]||(e[7]=[o("p",{class:"mb-2 text-sm"},[l(" Admin Email: "),o("strong",null,"admin@demo.com"),l(" / Pass: "),o("strong",null,"admin")],-1),o("p",{class:"mb-0 text-sm"},[l(" Client Email: "),o("strong",null,"client@demo.com"),l(" / Pass: "),o("strong",null,"client")],-1)])),_:1,__:[7]})]),_:1}),t(V,null,{default:s(()=>[t(a(ae),{ref_key:"refVForm",ref:b,onSubmit:N(q,["prevent"])},{default:s(()=>[t(v,null,{default:s(()=>[t(i,{cols:"12"},{default:s(()=>[t(w,{modelValue:a(m).email,"onUpdate:modelValue":e[0]||(e[0]=n=>a(m).email=n),label:"Email",placeholder:"johndoe@email.com",type:"email",autofocus:"",rules:["requiredValidator"in r?r.requiredValidator:a(h),"emailValidator"in r?r.emailValidator:a(B)],"error-messages":a(p).email},null,8,["modelValue","rules","error-messages"])]),_:1}),t(i,{cols:"12"},{default:s(()=>[t(w,{modelValue:a(m).password,"onUpdate:modelValue":e[1]||(e[1]=n=>a(m).password=n),label:"Password",placeholder:"路路路路路路路路路路路路",rules:["requiredValidator"in r?r.requiredValidator:a(h)],type:a(u)?"text":"password",autocomplete:"password","error-messages":a(p).password,"append-inner-icon":a(u)?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[2]||(e[2]=n=>u.value=!a(u))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),o("div",ue,[t(se,{modelValue:a(f),"onUpdate:modelValue":e[3]||(e[3]=n=>j(f)?f.value=n:null),label:"Remember me"},null,8,["modelValue"]),t(c,{class:"mb-1 text-primary ms-2",to:{name:"forgot-password"}},{default:s(()=>e[8]||(e[8]=[l(" Forgot Password? ")])),_:1,__:[8]})]),t(E,{block:"",type:"submit"},{default:s(()=>e[9]||(e[9]=[l(" Login ")])),_:1,__:[9]})]),_:1}),t(i,{cols:"12",class:"text-center"},{default:s(()=>[e[11]||(e[11]=o("span",null,"New on our platform?",-1)),t(c,{class:"text-primary ms-1",to:{name:"register"}},{default:s(()=>e[10]||(e[10]=[l(" Create an account ")])),_:1,__:[10]})]),_:1,__:[11]}),t(i,{cols:"12",class:"d-flex align-center"},{default:s(()=>[t(k),e[12]||(e[12]=o("span",{class:"mx-4"},"or",-1)),t(k)]),_:1,__:[12]}),t(i,{cols:"12",class:"text-center"},{default:s(()=>[t(z)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{We as default};
